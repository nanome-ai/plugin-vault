{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/FileExplorer.vue?baf7","webpack:///./src/components/FileViewGrid.vue?1073","webpack:///./src/components/FileDropzone.vue?7706","webpack:///./src/views/Home.vue?bb8c","webpack:///./src/components/Modal.vue?0d91","webpack:///./src/App.vue?4572","webpack:///./src/App.vue","webpack:///./src/views/Home.vue?6402","webpack:///./src/components/FileExplorer.vue?73d8","webpack:///./src/store.js","webpack:///./src/api.js","webpack:///./src/components/FileViewBase.vue","webpack:///./src/components/Breadcrumbs.vue?dd85","webpack:///src/components/Breadcrumbs.vue","webpack:///./src/components/Breadcrumbs.vue?1ce9","webpack:///./src/components/Breadcrumbs.vue","webpack:///./src/components/Toolbar.vue?d8b5","webpack:///./src/components/Toolbar.vue","webpack:///./src/components/FileViewGrid.vue?3ae0","webpack:///src/components/FileViewBase.vue","webpack:///./src/components/FileViewBase.vue?6237","webpack:///src/components/FileViewGrid.vue","webpack:///./src/components/FileViewGrid.vue?7c34","webpack:///./src/components/FileViewGrid.vue","webpack:///./src/components/FileViewList.vue?cf76","webpack:///src/components/FileViewList.vue","webpack:///./src/components/FileViewList.vue?0ad7","webpack:///./src/components/FileViewList.vue","webpack:///./src/components/FileDropzone.vue?c30c","webpack:///./src/helpers/files.js","webpack:///./src/helpers/extensions.js","webpack:///src/components/FileDropzone.vue","webpack:///./src/components/FileDropzone.vue?a4ac","webpack:///./src/components/FileDropzone.vue","webpack:///src/components/FileExplorer.vue","webpack:///./src/components/FileExplorer.vue?649e","webpack:///./src/components/FileExplorer.vue","webpack:///src/views/Home.vue","webpack:///./src/views/Home.vue?2b8c","webpack:///./src/views/Home.vue","webpack:///./src/router.js","webpack:///./src/components/Modal.vue?25f2","webpack:///src/components/Modal.vue","webpack:///./src/components/Modal.vue?6cd3","webpack:///./src/components/Modal.vue","webpack:///./src/main.js","webpack:///./src/App.vue?763a","webpack:///./src/components/FileViewList.vue?f9a5","webpack:///./src/components/Toolbar.vue?a6c9","webpack:///./src/assets/logo.png","webpack:///./src/components/Breadcrumbs.vue?84a2"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","staticRenderFns","script","component","_m","_v","_s","extensions","join","$store","state","on","$event","dispatch","$modal","login","displayMode","newFolder","showDropzone","path","preventDefault","showContextMenu","event","ref","refresh","directives","rawName","contextmenu","expression","style","top","left","hideContextMenu","menuOptions","download","encrypt","decrypt","_e","deleteItem","Vue","use","Vuex","token","localStorage","getItem","unique","mutations","PATCH_USER","payload","assign","saveSession","commit","success","results","user","setItem","API","removeItem","actions","creds","logout","Store","LOGIN_API","replaceAccount","replace","store","request","url","options","fetch","then","res","json","code","status","sendCommand","command","params","FormData","append","Array","item","method","body","keys","add","paths","locked","find","indexOf","remove","username","password","pass","source","headers","JSON","stringify","Authorization","blob","a","document","createElement","URL","createObjectURL","href","substring","lastIndexOf","appendChild","click","revokeObjectURL","list","getFolder","folder","parent","folders","files","lastSlash","err","Error","error","map","f","exec","full","ext","upload","delete","verifyKey","parentPath","_l","subpaths","currentName","props","String","computed","$emit","target","class","grid","includes","openLocked","isLocked","nativeOn","file","$root","watch","handler","immediate","mounted","$on","destroyed","$off","methods","stopPropagation","extends","FileViewBase","expanded","toggleFolder","nested","components","FileViewList","Boolean","isUploading","hover","isHovering","currentTarget","onDrop","onChange","numDropping","hide","IGNORE_FILES","getFile","Promise","resolve","getEntries","reader","createReader","readEntries","entries","traverseDir","tree","isFile","File","type","isDirectory","promises","entry","all","getFiles","items","dataTransfer","webkitGetAsEntry","flat","Infinity","created","addEventListener","onDragEnter","onDragLeave","removeEventListener","numEvents","e","show","Breadcrumbs","Toolbar","FileViewGrid","FileDropzone","$route","isFolder","deletable","encryptable","$refs","dropzone","pageY","pageX","Router","router","base","process","routes","Home","beforeEach","to","from","next","cancel","title","domProps","isArray","input1","_i","$$a","$$el","$$c","checked","$$v","$$i","concat","_q","composing","input2","cancelClass","cancelTitle","okClass","loading","ok","okTitle","default","rej","reject","promise","onKeydown","showing","defaults","$nextTick","input","focus","setSelectionRange","deferred","alert","confirm","prompt","reset","undefined","attemptLogin","config","productionTip","library","fas","FontAwesomeIcon","FontAwesomeLayers","FontAwesomeLayersText","directive","el","binding","vnode","stop","context","setTimeout","unbind","app","render","h","App","$mount","VModal","extend","Modal","modal","$el"],"mappings":"aACE,SAASA,EAAqBC,GAQ7B,IAPA,IAMIC,EAAUC,EANVC,EAAWH,EAAK,GAChBI,EAAcJ,EAAK,GACnBK,EAAiBL,EAAK,GAIHM,EAAI,EAAGC,EAAW,GACpCD,EAAIH,EAASK,OAAQF,IACzBJ,EAAUC,EAASG,GAChBG,OAAOC,UAAUC,eAAeC,KAAKC,EAAiBX,IAAYW,EAAgBX,IACpFK,EAASO,KAAKD,EAAgBX,GAAS,IAExCW,EAAgBX,GAAW,EAE5B,IAAID,KAAYG,EACZK,OAAOC,UAAUC,eAAeC,KAAKR,EAAaH,KACpDc,EAAQd,GAAYG,EAAYH,IAG/Be,GAAqBA,EAAoBhB,GAE5C,MAAMO,EAASC,OACdD,EAASU,OAATV,GAOD,OAHAW,EAAgBJ,KAAKK,MAAMD,EAAiBb,GAAkB,IAGvDe,IAER,SAASA,IAER,IADA,IAAIC,EACIf,EAAI,EAAGA,EAAIY,EAAgBV,OAAQF,IAAK,CAG/C,IAFA,IAAIgB,EAAiBJ,EAAgBZ,GACjCiB,GAAY,EACRC,EAAI,EAAGA,EAAIF,EAAed,OAAQgB,IAAK,CAC9C,IAAIC,EAAQH,EAAeE,GACG,IAA3BX,EAAgBY,KAAcF,GAAY,GAE3CA,IACFL,EAAgBQ,OAAOpB,IAAK,GAC5Be,EAASM,EAAoBA,EAAoBC,EAAIN,EAAe,KAItE,OAAOD,EAIR,IAAIQ,EAAmB,GAKnBhB,EAAkB,CACrB,IAAO,GAGJK,EAAkB,GAGtB,SAASS,EAAoB1B,GAG5B,GAAG4B,EAAiB5B,GACnB,OAAO4B,EAAiB5B,GAAU6B,QAGnC,IAAIC,EAASF,EAAiB5B,GAAY,CACzCK,EAAGL,EACH+B,GAAG,EACHF,QAAS,IAUV,OANAf,EAAQd,GAAUW,KAAKmB,EAAOD,QAASC,EAAQA,EAAOD,QAASH,GAG/DI,EAAOC,GAAI,EAGJD,EAAOD,QAKfH,EAAoBM,EAAIlB,EAGxBY,EAAoBO,EAAIL,EAGxBF,EAAoBQ,EAAI,SAASL,EAASM,EAAMC,GAC3CV,EAAoBW,EAAER,EAASM,IAClC3B,OAAO8B,eAAeT,EAASM,EAAM,CAAEI,YAAY,EAAMC,IAAKJ,KAKhEV,EAAoBe,EAAI,SAASZ,GACX,qBAAXa,QAA0BA,OAAOC,aAC1CnC,OAAO8B,eAAeT,EAASa,OAAOC,YAAa,CAAEC,MAAO,WAE7DpC,OAAO8B,eAAeT,EAAS,aAAc,CAAEe,OAAO,KAQvDlB,EAAoBmB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQlB,EAAoBkB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,kBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKxC,OAAOyC,OAAO,MAGvB,GAFAvB,EAAoBe,EAAEO,GACtBxC,OAAO8B,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOlB,EAAoBQ,EAAEc,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRtB,EAAoB0B,EAAI,SAAStB,GAChC,IAAIM,EAASN,GAAUA,EAAOiB,WAC7B,WAAwB,OAAOjB,EAAO,YACtC,WAA8B,OAAOA,GAEtC,OADAJ,EAAoBQ,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRV,EAAoBW,EAAI,SAASgB,EAAQC,GAAY,OAAO9C,OAAOC,UAAUC,eAAeC,KAAK0C,EAAQC,IAGzG5B,EAAoB6B,EAAI,IAExB,IAAIC,EAAaC,OAAO,gBAAkBA,OAAO,iBAAmB,GAChEC,EAAmBF,EAAW3C,KAAKsC,KAAKK,GAC5CA,EAAW3C,KAAOf,EAClB0D,EAAaA,EAAWG,QACxB,IAAI,IAAItD,EAAI,EAAGA,EAAImD,EAAWjD,OAAQF,IAAKP,EAAqB0D,EAAWnD,IAC3E,IAAIU,EAAsB2C,EAI1BzC,EAAgBJ,KAAK,CAAC,EAAE,kBAEjBM,K,6ECvJT,yBAA8gB,EAAG,G,kCCAjhB,yBAA8gB,EAAG,G,2DCAjhB,yBAA8gB,EAAG,G,oCCAjhB,yBAAsgB,EAAG,G,oCCAzgB,yBAAugB,EAAG,G,oICAtgB,EAAS,WAAa,IAAIyC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,oBAAoBC,MAAM,CAAC,GAAK,QAAQ,CAACH,EAAG,gBAAgB,IAC9KI,EAAkB,G,wBCAlBC,EAAS,GAMTC,EAAY,eACdD,EACA,EACAD,GACA,EACA,KACA,KACA,MAIa,EAAAE,E,gCClBX,EAAS,WAAa,IAAIV,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,2DAA2D,CAACN,EAAIW,GAAG,GAAGP,EAAG,IAAI,CAACE,YAAY,qBAAqB,CAACN,EAAIY,GAAG,qEAAqER,EAAG,MAAMJ,EAAIY,GAAG,mBAAmBR,EAAG,IAAI,CAACJ,EAAIY,GAAGZ,EAAIa,GAAGb,EAAIc,WAAWC,KAAK,WAAWX,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,MAAM,CAACE,YAAY,+DAA+D,CAAEN,EAAIgB,OAAOC,MAAU,KAAE,CAACjB,EAAIY,GAAG,sBAAsBR,EAAG,IAAI,CAACJ,EAAIY,GAAGZ,EAAIa,GAAGb,EAAIgB,OAAOC,MAAM1C,MAAM,OAAOyB,EAAIY,GAAG,eAAeR,EAAG,IAAI,CAACE,YAAY,oBAAoBY,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOnB,EAAIgB,OAAOI,SAAS,aAAa,CAACpB,EAAIY,GAAG,cAAc,CAACZ,EAAIY,GAAG,gCAAgCR,EAAG,IAAI,CAACE,YAAY,qBAAqBY,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOnB,EAAIqB,OAAOC,WAAW,CAACtB,EAAIY,GAAG,cAAc,KAAKR,EAAG,kBAAkB,IAC97B,EAAkB,CAAC,WAAa,IAAIJ,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,SAAS,CAACE,YAAY,iBAAiB,CAACF,EAAG,KAAK,CAACE,YAAY,8BAA8B,CAACF,EAAG,MAAM,CAACE,YAAY,OAAOC,MAAM,CAAC,IAAM,EAAQ,WAAwBP,EAAIY,GAAG,kBAAkBR,EAAG,KAAK,CAACJ,EAAIY,GAAG,wDCDxT,EAAS,WAAa,IAAIZ,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,iEAAiE,CAACF,EAAG,MAAM,CAACE,YAAY,sBAAsB,CAACF,EAAG,UAAU,CAACc,GAAG,CAAC,eAAe,SAASC,GAAQnB,EAAIuB,YAAcJ,GAAQ,aAAanB,EAAIwB,UAAU,cAAcxB,EAAIyB,gBAAgBrB,EAAG,cAAc,CAACG,MAAM,CAAC,KAAOP,EAAI0B,SAAS,GAAGtB,EAAG,MAAM,CAACE,YAAY,sCAAsCY,GAAG,CAAC,YAAc,SAASC,GAAgC,OAAxBA,EAAOQ,iBAAwB3B,EAAI4B,gBAAgB,CAAEC,MAAOV,EAAQO,KAAM1B,EAAI0B,UAAW,CAAsB,SAApB1B,EAAIuB,YAAwBnB,EAAG,iBAAiB,CAACG,MAAM,CAAC,KAAOP,EAAI0B,QAAQtB,EAAG,iBAAiB,CAACG,MAAM,CAAC,KAAOP,EAAI0B,QAAQtB,EAAG,gBAAgB,CAAC0B,IAAI,WAAWvB,MAAM,CAAC,KAAOP,EAAI0B,MAAMR,GAAG,CAAC,OAASlB,EAAI+B,YAAY,GAAG3B,EAAG,MAAM,CAAC4B,WAAW,CAAC,CAACzD,KAAK,OAAO0D,QAAQ,SAASjD,MAAOgB,EAAIkC,YAAgB,KAAEC,WAAW,oBAAoB,CAAC5D,KAAK,YAAY0D,QAAQ,cAAcjD,MAAOgB,EAAmB,gBAAEmC,WAAW,oBAAoB7B,YAAY,cAAc8B,MAAM,CAAGC,IAAKrC,EAAIkC,YAAYG,IAAKC,KAAMtC,EAAIkC,YAAYI,MAAQpB,GAAG,CAAC,MAAQlB,EAAIuC,kBAAkB,CAACnC,EAAG,KAAK,CAAEJ,EAAIwC,YAAoB,SAAEpC,EAAG,KAAK,CAACA,EAAG,SAAS,CAACE,YAAY,gBAAgBY,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOnB,EAAIwB,UAAUxB,EAAIkC,YAAYR,SAAS,CAACtB,EAAG,UAAU,CAACG,MAAM,CAAC,KAAO,iBAAiBP,EAAIY,GAAG,qCAAqC,KAAKR,EAAG,KAAK,CAACA,EAAG,SAAS,CAACE,YAAY,gBAAgBY,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOnB,EAAIyC,SAASzC,EAAIkC,YAAYR,SAAS,CAACtB,EAAG,UAAU,CAACG,MAAM,CAAC,KAAO,mBAAmBP,EAAIY,GAAG,mCAAmC,KAAMZ,EAAIwC,YAAuB,YAAEpC,EAAG,KAAK,CAACA,EAAG,SAAS,CAACE,YAAY,gBAAgBY,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOnB,EAAI0C,QAAQ1C,EAAIkC,YAAYR,SAAS,CAACtB,EAAG,UAAU,CAACG,MAAM,CAAC,KAAO,UAAUP,EAAIY,GAAG,kCAAkC,KAAMZ,EAAIkC,YAAkB,OAAE9B,EAAG,KAAK,CAACA,EAAG,SAAS,CAACE,YAAY,gBAAgBY,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOnB,EAAI2C,QAAQ3C,EAAIkC,YAAYR,SAAS,CAACtB,EAAG,UAAU,CAACG,MAAM,CAAC,KAAO,eAAeP,EAAIY,GAAG,kCAAkC,KAAKZ,EAAI4C,KAAM5C,EAAIwC,YAAqB,UAAEpC,EAAG,KAAK,CAACA,EAAG,SAAS,CAACE,YAAY,eAAeY,GAAG,CAAC,MAAQlB,EAAI6C,aAAa,CAACzC,EAAG,UAAU,CAACG,MAAM,CAAC,KAAO,WAAWP,EAAIY,GAAG,iCAAiC,KAAKZ,EAAI4C,YAC7vE,EAAkB,G,kJCGtBE,OAAIC,IAAIC,QAER,IAAM/B,EAAQ,CACZgC,MAAOC,aAAaC,QAAQ,eAAiB,KAC7CC,OAAQ,KACR7E,KAAM,MAGF8E,EAAY,CAChBC,WADgB,SACLrC,EAAOsC,GAChB3G,OAAO4G,OAAOvC,EAAOsC,K,SAIVE,E,kGAAf,WAA2BC,EAA3B,iGAAqCC,EAArC,EAAqCA,QAASC,EAA9C,EAA8CA,SACxCD,EADN,wBAEUE,EAAO,CACXT,OAAQQ,EAAQC,KAAKT,OACrB7E,KAAMqF,EAAQC,KAAKtF,KACnB0E,MAAOW,EAAQX,MAAMjE,OAEvB0E,EAAO,aAAcG,GACrBX,aAAaY,QAAQ,aAAcF,EAAQX,MAAMjE,OARrD,kBAWY+E,EAAI1E,OAAO,IAAMuE,EAAQC,KAAKT,QAX1C,8FAcW,GAdX,eAgBIF,aAAac,WAAW,cAhB5B,mBAiBW,GAjBX,0D,wBAqBA,IAAMC,EAAU,CACR3C,MADQ,sEACU4C,GADV,gGACAR,EADA,EACAA,OADA,SAEOK,EAAIzC,MAAM4C,GAFjB,cAEN/H,EAFM,yBAGLsH,EAAYC,EAAQvH,IAHf,sGAMR4F,QANQ,uKAME2B,EANF,EAMEA,OANF,SAOOK,EAAIhC,UAPX,cAON5F,EAPM,yBAQLsH,EAAYC,EAAQvH,IARf,oGAWRgI,OAXQ,8JAWCT,EAXD,EAWCA,OACbA,EAAO,aAAc,CACnBT,MAAO,KACP1E,KAAM,KACN6E,OAAQ,OAEVF,aAAac,WAAW,cAjBZ,qGAqBD,MAAIhB,OAAKoB,MAAM,CAC5BnD,QACAoC,YACAY,YC9DII,EAAY,6BAElB,SAASC,EAAe5C,GACtB,OAAOA,EAAK6C,QAAQ,aAAc,IAAMC,EAAMvD,MAAMmC,QAGtD,SAASqB,EAAQC,EAAKC,GACpB,OAAOC,MAAMF,EAAKC,GAASE,KAApB,yDAAyB,WAAMC,GAAN,uGACXA,EAAIC,OADO,cACxBA,EADwB,OAE9BA,EAAKC,KAAOF,EAAIG,OAFc,kBAGvBF,GAHuB,2CAAzB,uDAOT,SAASG,EAAYxD,EAAMyD,EAASC,GAClC1D,EAAO4C,EAAe5C,GAEtB,IAAMvF,EAAO,IAAIkJ,SAGjB,IAAK,IAAM/F,KAFXnD,EAAKmJ,OAAO,UAAWH,GAELC,EAAQ,CACxB,IAAMpG,EAAQoG,EAAO9F,GACrB,GAAIN,aAAiBuG,MAAO,4BAC1B,YAAmBvG,EAAnB,+CAA0B,KAAfwG,EAAe,QACxBrJ,EAAKmJ,OAAOhG,EAAKkG,IAFO,wFAK1BrJ,EAAKmJ,OAAOhG,EAAK8F,EAAO9F,IAI5B,OAAOmF,EAAQ,SAAW/C,EAAM,CAC9B+D,OAAQ,OACRC,KAAMvJ,IAIV,ICtCI,EAAQ,EDsCNwJ,EAAO,GAEP5B,EAAM,CACV4B,KAAM,CACJC,IADI,SACAlE,EAAMpC,GACRoC,EAAOA,EAAK6C,QAAQ,MAAO,IAC3BoB,EAAKjE,GAAQpC,GAEfV,IALI,SAKA8C,GACF,IAAMmE,EAAQjJ,OAAO+I,KAAKA,GACpBG,EAASD,EAAME,MAAK,SAAApG,GAAC,OAAuB,GAAnB+B,EAAKsE,QAAQrG,MAC5C,OAAOgG,EAAKG,IAEdG,OAVI,SAUGvE,UACEiE,EAAKjE,KAIhBJ,MAhBU,YAgBoB,IAAtB4E,EAAsB,EAAtBA,SAAUC,EAAY,EAAZA,SACVT,EAAO,CACXpE,MAAO4E,EACPE,KAAMD,EACNE,OAAQ,oBAGV,OAAO5B,EAAQ,GAAD,OAAIJ,EAAJ,UAAuB,CACnCiC,QAAS,CAAE,eAAgB,oBAC3Bb,OAAQ,OACRC,KAAMa,KAAKC,UAAUd,MAIzB3D,QA9BU,WA+BR,IAAMkB,EAAQuB,EAAMvD,MAAMgC,MAC1B,OAAKA,EAEEwB,EAAQ,GAAD,OAAIJ,EAAJ,YAAyB,CACrCiC,QAAS,CAAEG,cAAe,UAAF,OAAYxD,MAHnB,IAOfR,SAvCI,oEAuCKf,GAvCL,sGAwCFiD,EAAU,CAAE2B,QAAS,IACrBhH,EAAMyE,EAAI4B,KAAK/G,IAAI8C,GACrBpC,IACFqF,EAAQ2B,QAAQ,aAAehH,GA3CzB,SA8CWsF,MAAM,SAAWlD,EAAMiD,GAASE,MAAK,SAAAC,GAAG,OAAIA,EAAI4B,UA9C3D,OA8CFA,EA9CE,OAgDFC,EAAIC,SAASC,cAAc,KAC3BnC,EAAM7E,OAAOiH,IAAIC,gBAAgBL,GACvCC,EAAEK,KAAOtC,EACTiC,EAAElE,SAAWf,EAAKuF,UAAUvF,EAAKwF,YAAY,KAAO,GACpDN,SAASlB,KAAKyB,YAAYR,GAC1BA,EAAES,QACFT,EAAEV,SACFpG,OAAOiH,IAAIO,gBAAgB3C,GAvDnB,qGA0DV4C,KA1DU,SA0DL5F,GACH,IAAMiD,EAAU,CAAE2B,QAAS,IACrBhH,EAAMyE,EAAI4B,KAAK/G,IAAI8C,GAMzB,OALIpC,IACFqF,EAAQ2B,QAAQ,aAAehH,GAGjCoC,EAAO4C,EAAe5C,GACf+C,EAAQ,SAAW/C,EAAMiD,IAG5B4C,UArEI,oEAqEM7F,GArEN,oGAsEF8F,EAAS,CACb9F,KAAM,GACN+F,OAAQ,GACRC,QAAS,GACT5B,OAAQ,GACR6B,MAAO,IAGc,MAAnBjG,EAAK3B,OAAO,KACd2B,GAAQ,KAGG,MAATA,IACIkG,EAAYlG,EAAK3B,MAAM,GAAI,GAAGmH,YAAY,KAChDM,EAAOC,OAAS/F,EAAKuF,UAAU,EAAGW,GAAa,KApFzC,SAuFW7D,EAAIuD,KAAK5F,GAvFpB,UAuFFvF,EAvFE,OAwFHA,EAAKwH,QAxFF,uBAyFAkE,EAAM,IAAIC,MAAM3L,EAAK4L,OAC3BF,EAAI7C,KAAO7I,EAAK6I,KACV6C,EA3FA,eA8FRL,EAAO9F,KAAOA,EACd8F,EAAO1B,OAAS3J,EAAK2J,OACrB0B,EAAOE,QAAUvL,EAAKuL,QACtBF,EAAOG,MAAQxL,EAAKwL,MAAMK,KAAI,SAAAC,GAAK,MACP,sBAAsBC,KAAKD,GADpB,sBAC1BE,EAD0B,KACpB5J,EADoB,KACd6J,EADc,KAEjC,MAAO,CAAED,OAAM5J,OAAM6J,UAnGf,kBAsGDZ,GAtGC,qGAyGVa,OAzGU,SAyGH3G,EAAMiG,GACX,GAAKA,GAAUA,EAAMhL,OACrB,OAAOuI,EAAYxD,EAAM,SAAU,CAAEiG,QAAOrI,IAAKyE,EAAI4B,KAAK/G,IAAI8C,MAGhE4G,OA9GU,SA8GH5G,EAAMpC,GAEX,OADAA,EAAMA,GAAOyE,EAAI4B,KAAK/G,IAAI8C,GACnBwD,EAAYxD,EAAM,SAAU,CAAEpC,SAGvCD,OAnHU,SAmHHqC,GACL,OAAOwD,EAAYxD,EAAM,WAG3BgB,QAvHU,SAuHFhB,EAAMpC,GACZ,OAAO4F,EAAYxD,EAAM,UAAW,CAAEpC,SAGxCqD,QA3HU,SA2HFjB,EAAMpC,GACZ,OAAO4F,EAAYxD,EAAM,UAAW,CAAEpC,SAGxCiJ,UA/HU,SA+HA7G,EAAMpC,GACd,OAAO4F,EAAYxD,EAAM,SAAU,CAAEpC,UAI1ByE,IE5KX,EAAS,WAAa,IAAI/D,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,8CAA8C,CAACF,EAAG,cAAc,CAACE,YAAY,mBAAmBC,MAAM,CAAC,GAAKP,EAAIwI,WAAW,MAAQxI,EAAIwI,WAAa,QAAU,GAAG,SAAWxI,EAAIwI,WAAa,IAAM,EAAE,UAAYxI,EAAIwI,WAAW,IAAM,WAAW,CAACpI,EAAG,UAAU,CAACG,MAAM,CAAC,KAAO,eAAe,GAAGP,EAAIyI,GAAIzI,EAAI0I,SAAS3I,MAAM,GAAI,IAAI,SAAS+B,GAClc,IAAIvD,EAAOuD,EAAIvD,KACXmD,EAAOI,EAAIJ,KACf,OAAOtB,EAAG,MAAM,CAACd,IAAIoC,GAAM,CAACtB,EAAG,cAAc,CAACE,YAAY,OAAOC,MAAM,CAAC,GAAKmB,IAAO,CAAC1B,EAAIY,GAAGZ,EAAIa,GAAGtC,MAAS6B,EAAG,UAAU,CAACG,MAAM,CAAC,KAAO,kBAAkB,MAAKH,EAAG,MAAM,CAACE,YAAY,sBAAsB,CAACN,EAAIY,GAAGZ,EAAIa,GAAGb,EAAI2I,iBAAiB,IAC3O,EAAkB,GCiBtB,G,UAAA,CACEC,MAAO,CACLlH,KAAMmH,QAGRC,SAAU,CACRJ,SADJ,WAEM,IAAN,mCACA,KAEA,KAJA,uBAKA,4EACA,SACA,IACA,WAEA,yBAVA,kFAaM,OAAOA,GAGTC,YAjBJ,WAkBM,OAAO1I,KAAKyI,SAASzI,KAAKyI,SAAS/L,OAAS,GAAG4B,MAGjDiK,WArBJ,WAsBM,GAAiB,KAAbvI,KAAKyB,KAAa,MAAO,GAE7B,IAAN,yCACM,OAAOzB,KAAKyB,KAAK3B,MAAM,EAAG6H,GAAa,QCnDwS,ICQjV,G,UAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,OAIa,I,QCnBX,EAAS,WAAa,IAAI5H,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,qCAAqC,CAACF,EAAG,MAAM,CAACE,YAAY,6BAA6B,CAACF,EAAG,QAAQ,CAACG,MAAM,CAAC,QAAU,GAAG,MAAQ,OAAO,KAAO,QAAQ,KAAO,eAAe,GAAK,qBAAqBW,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOnB,EAAI+I,MAAM,eAAgB5H,EAAO6H,OAAOhK,WAAWoB,EAAG,QAAQ,CAACE,YAAY,gBAAgBC,MAAM,CAAC,IAAM,sBAAsB,CAACH,EAAG,UAAU,CAACG,MAAM,CAAC,KAAO,SAAS,GAAGH,EAAG,QAAQ,CAACG,MAAM,CAAC,MAAQ,OAAO,KAAO,QAAQ,KAAO,eAAe,GAAK,qBAAqBW,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOnB,EAAI+I,MAAM,eAAgB5H,EAAO6H,OAAOhK,WAAWoB,EAAG,QAAQ,CAACE,YAAY,gBAAgBC,MAAM,CAAC,IAAM,sBAAsB,CAACH,EAAG,UAAU,CAACG,MAAM,CAAC,KAAO,WAAW,KAAKH,EAAG,SAAS,CAACE,YAAY,mBAAmBY,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOnB,EAAI+I,MAAM,iBAAiB,CAAC3I,EAAG,YAAY,CAACA,EAAG,UAAU,CAACG,MAAM,CAAC,KAAO,YAAYH,EAAG,UAAU,CAACE,YAAY,aAAaC,MAAM,CAAC,KAAO,OAAO,UAAY,uBAAuB,GAAGH,EAAG,OAAO,CAACE,YAAY,oBAAoB,CAACN,EAAIY,GAAG,kBAAkB,GAAGR,EAAG,SAAS,CAACE,YAAY,cAAcY,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOnB,EAAI+I,MAAM,kBAAkB,CAAC3I,EAAG,UAAU,CAACG,MAAM,CAAC,KAAO,sBAAsBH,EAAG,OAAO,CAACE,YAAY,oBAAoB,CAACN,EAAIY,GAAG,cAAc,MAC91C,EAAkB,GCAlB,G,UAAS,IAMT,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,I,QClBX,EAAS,WAAa,IAAIZ,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,mCAAmC2I,MAAM,CAAEC,KAAMlJ,EAAI2H,MAAMhL,QAAUqD,EAAI0H,QAAQ/K,SAAU,CAACqD,EAAIyI,GAAIzI,EAAW,SAAE,SAASwH,GAAQ,MAAO,CAAExH,EAAI8F,OAAOqD,SAAS3B,GAASpH,EAAG,IAAI,CAACd,IAAIkI,EAAOlH,YAAY,iBAAiBC,MAAM,CAAC,MAAQiH,GAAQtG,GAAG,CAAC,SAAW,SAASC,GAAQ,OAAOnB,EAAIoJ,WAAW5B,IAAS,YAAc,SAASrG,GAAgC,OAAxBA,EAAOQ,iBAAwB3B,EAAIkC,YAAYf,EAAQqG,EAAS,KAAK,MAAS,CAACpH,EAAG,YAAY,CAACE,YAAY,QAAQ,CAACF,EAAG,UAAU,CAACG,MAAM,CAAC,KAAO,YAAYH,EAAG,UAAU,CAACE,YAAY,aAAaC,MAAM,CAAC,KAAOP,EAAIqJ,SAAS7B,GAAU,OAAS,YAAY,UAAY,uBAAuB,GAAGpH,EAAG,MAAM,CAACE,YAAY,YAAY,CAACN,EAAIY,GAAGZ,EAAIa,GAAG2G,OAAY,GAAGpH,EAAG,cAAc,CAACd,IAAIkI,EAAOlH,YAAY,iBAAiBC,MAAM,CAAC,MAAQiH,EAAO,GAAM,GAAKxH,EAAI0B,KAAO8F,EAAS,IAAK,MAAQ,YAAY8B,SAAS,CAAC,YAAc,SAASnI,GAAgC,OAAxBA,EAAOQ,iBAAwB3B,EAAIkC,YAAYf,EAAQqG,EAAS,QAAQ,CAACpH,EAAG,UAAU,CAACE,YAAY,2BAA2BC,MAAM,CAAC,KAAO,YAAYH,EAAG,MAAM,CAACE,YAAY,YAAY,CAACN,EAAIY,GAAGZ,EAAIa,GAAG2G,OAAY,OAAmB,KAAZxH,EAAI0B,KAAa,CAAG1B,EAAIgB,OAAOC,MAAMmC,OAA+RhD,EAAG,cAAc,CAACE,YAAY,iBAAiBC,MAAM,CAAC,GAAK,YAAY,MAAQ,YAAY+I,SAAS,CAAC,YAAc,SAASnI,GAAgC,OAAxBA,EAAOQ,iBAAwB3B,EAAIkC,YAAYf,EAAQ,eAAe,CAACf,EAAG,YAAY,CAACE,YAAY,QAAQ,CAACF,EAAG,UAAU,CAACG,MAAM,CAAC,KAAO,YAAYH,EAAG,UAAU,CAACE,YAAY,aAAaC,MAAM,CAAC,KAAO,YAAY,UAAY,uBAAuB,GAAGH,EAAG,MAAM,CAACJ,EAAIY,GAAG,cAAc,GAArrBR,EAAG,IAAI,CAACc,GAAG,CAAC,SAAW,SAASC,GAAQ,OAAOnB,EAAIqB,OAAOC,WAAW,CAAClB,EAAG,YAAY,CAACE,YAAY,QAAQ,CAACF,EAAG,UAAU,CAACG,MAAM,CAAC,KAAO,YAAYH,EAAG,UAAU,CAACE,YAAY,aAAaC,MAAM,CAAC,KAAO,OAAO,UAAY,uBAAuB,GAAGH,EAAG,MAAM,CAACJ,EAAIY,GAAG,cAAc,IAAqaZ,EAAI4C,KAAK5C,EAAIyI,GAAIzI,EAAS,OAAE,SAASuJ,GAAM,OAAOnJ,EAAG,MAAM,CAACd,IAAIiK,EAAKpB,KAAK5H,MAAM,CAAC,MAAQgJ,EAAKpB,MAAMjH,GAAG,CAAC,YAAc,SAASC,GAAgC,OAAxBA,EAAOQ,iBAAwB3B,EAAIkC,YAAYf,EAAQoI,EAAKpB,OAAO,SAAW,SAAShH,GAAQ,OAAOnB,EAAIwJ,MAAMT,MAAM,WAAY/I,EAAI0B,KAAO6H,EAAKpB,SAAS,CAAC/H,EAAG,YAAY,CAACE,YAAY,QAAQ,CAACF,EAAG,UAAU,CAACG,MAAM,CAAC,KAAO,UAAUH,EAAG,UAAU,CAACE,YAAY,aAAaC,MAAM,CAAC,UAAY,mBAAmB,MAAQgJ,EAAKnB,QAAQ,GAAGhI,EAAG,MAAM,CAACE,YAAY,YAAY,CAACN,EAAIY,GAAGZ,EAAIa,GAAG0I,EAAKhL,UAAU,MAAOyB,EAAI2H,MAAMhL,QAAWqD,EAAI0H,QAAQ/K,OAA4RqD,EAAI4C,KAAxRxC,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,YAAY,CAACE,YAAY,YAAY,CAACF,EAAG,UAAU,CAACG,MAAM,CAAC,KAAO,YAAYH,EAAG,UAAU,CAACE,YAAY,aAAaC,MAAM,CAAC,KAAO,WAAW,UAAY,uBAAuB,GAAGH,EAAG,MAAMJ,EAAIY,GAAG,mCAAmC,IAAa,IACtvF,EAAkB,GCEtB,GACEgI,MAAO,CACLlH,KAAMmH,QAGR1M,KAAM,WAAR,OACA,UACA,WACA,WAGEsN,MAAO,CACL/H,KAAM,CACJgI,QAAS,UACTC,WAAW,IAIfC,QAlBF,WAmBI3J,KAAKuJ,MAAMK,IAAI,UAAW5J,KAAK8B,UAGjC+H,UAtBF,WAuBI7J,KAAKuJ,MAAMO,KAAK,UAAW9J,KAAK8B,UAGlCiI,QAAS,CACP,QADJ,oEACA,GADA,gGAEA,4CAFA,kBAKA,uBALA,OAKA,EALA,OAMA,qBACA,uBACA,mBARA,wDAUA,gBAVA,kCAWA,6BAXA,WAWA,EAXA,QAYA,EAZA,wBAaA,eAbA,2BAkBA,uBAlBA,mHAsBI9H,YAtBJ,SAsBA,mEACML,EAAMoI,kBACNhK,KAAKuJ,MAAMT,MAAM,cAAe,CAC9BlH,MAAR,EACQH,KAAMzB,KAAKyB,KAAO8D,EAClBM,OAAR,EACQpF,UAAWT,QAIfoJ,SAhCJ,SAgCA,GACM,IAAN,cACM,OAAOpJ,KAAK6F,OAAOqD,SAAS3B,KAAY,EAA9C,aAGI,aArCJ,oEAqCA,GArCA,gGAsCA,cACA,iBAvCA,0CAwCA,GAxCA,uBA2CA,oBACA,sBACA,6DACA,cA9CA,UA2CA,EA3CA,OAgDA,EAhDA,0CAgDA,GAhDA,wBAkDA,iBAlDA,oBAkDA,EAlDA,EAkDA,QACA,EAnDA,kCAoDA,mBACA,sBACA,wCAtDA,kCAwDA,GAxDA,eA2DA,gBA3DA,mBA4DA,GA5DA,0GA+DI,WA/DJ,oEA+DA,GA/DA,uGAgEA,qBAhEA,OAgEA,EAhEA,OAiEA,GACA,sDAlEA,2GC7BsV,ITOlV,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,I,QUyFf,GACE0C,QAASC,GC5G2U,ICQlV,G,UAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,OAIa,K,QCnBX,GAAS,WAAa,IAAInK,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,+BAA+B,CAAEN,EAAI2H,MAAMhL,QAAUqD,EAAI0H,QAAQ/K,OAAQyD,EAAG,KAAK,CAACE,YAAY,UAAU,CAACN,EAAIyI,GAAIzI,EAAW,SAAE,SAASwH,GAAQ,MAAO,CAACpH,EAAG,KAAK,CAACd,IAAIkI,EAAOlH,YAAY,yBAAyB,CAACF,EAAG,UAAU,CAACE,YAAY,6DAA6D2I,MAAM,CAAEmB,SAAUpK,EAAIoK,SAAS5C,IAAUjH,MAAM,CAAC,KAAO,cAAc,cAAc,IAAIW,GAAG,CAAC,MAAQ,SAASC,GAAQnB,EAAIqK,aAAa7C,EAAQxH,EAAIqJ,SAAS7B,QAAcxH,EAAI8F,OAAOqD,SAAS3B,GAASpH,EAAG,IAAI,CAACE,YAAY,sBAAsBC,MAAM,CAAC,MAAQiH,GAAQtG,GAAG,CAAC,SAAW,SAASC,GAAQ,OAAOnB,EAAIoJ,WAAW5B,IAAS,YAAc,SAASrG,GAAgC,OAAxBA,EAAOQ,iBAAwB3B,EAAIkC,YAAYf,EAAQqG,EAAS,KAAK,MAAS,CAACpH,EAAG,YAAY,CAACE,YAAY,aAAa,CAACF,EAAG,UAAU,CAACG,MAAM,CAAC,KAAO,YAAYH,EAAG,UAAU,CAACE,YAAY,aAAaC,MAAM,CAAC,KAAOP,EAAIqJ,SAAS7B,GAAU,OAAS,YAAY,UAAY,uBAAuB,GAAGpH,EAAG,MAAM,CAACE,YAAY,YAAY,CAACN,EAAIY,GAAGZ,EAAIa,GAAG2G,OAAY,GAAGpH,EAAG,cAAc,CAACE,YAAY,sBAAsBC,MAAM,CAAC,MAAQiH,EAAO,GAAM,GAAKxH,EAAI0B,KAAO8F,EAAS,IAAK,MAAQ,YAAY8B,SAAS,CAAC,YAAc,SAASnI,GAAgC,OAAxBA,EAAOQ,iBAAwB3B,EAAIkC,YAAYf,EAAQqG,EAAS,QAAQ,CAACpH,EAAG,UAAU,CAACE,YAAY,YAAYC,MAAM,CAAC,KAAO,YAAYH,EAAG,MAAM,CAACE,YAAY,YAAY,CAACN,EAAIY,GAAGZ,EAAIa,GAAG2G,OAAY,IAAI,GAAIxH,EAAIoK,SAAS5C,GAASpH,EAAG,KAAK,CAACd,IAAIkI,EAAS,YAAYlH,YAAY,QAAQ,CAACF,EAAG,iBAAiB,CAACG,MAAM,CAAC,KAAQ,GAAKP,EAAI0B,KAAO8F,EAAS,IAAK,OAAS,OAAO,GAAGxH,EAAI4C,SAAqB,KAAZ5C,EAAI0B,KAAa,CAACtB,EAAG,KAAK,CAACE,YAAY,yBAAyB,CAACF,EAAG,UAAU,CAACE,YAAY,6DAA6D2I,MAAM,CAAEmB,SAAUpK,EAAIoK,SAAS,YAAa7J,MAAM,CAAC,KAAO,cAAc,cAAc,IAAIW,GAAG,CAAC,MAAQ,SAASC,GAASnB,EAAIoD,OAA8BpD,EAAIqK,aAAa,WAAtCrK,EAAIqB,OAAOC,YAA4CtB,EAAIoD,OAAoThD,EAAG,cAAc,CAACE,YAAY,sBAAsBC,MAAM,CAAC,GAAK,YAAY,MAAQ,YAAY+I,SAAS,CAAC,YAAc,SAASnI,GAAgC,OAAxBA,EAAOQ,iBAAwB3B,EAAIkC,YAAYf,EAAQ,eAAe,CAACf,EAAG,YAAY,CAACE,YAAY,aAAa,CAACF,EAAG,UAAU,CAACG,MAAM,CAAC,KAAO,YAAYH,EAAG,UAAU,CAACE,YAAY,aAAaC,MAAM,CAAC,KAAO,YAAY,UAAY,uBAAuB,GAAGH,EAAG,MAAM,CAACJ,EAAIY,GAAG,cAAc,GAAptBR,EAAG,IAAI,CAACE,YAAY,OAAOY,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOnB,EAAIqB,OAAOC,WAAW,CAAClB,EAAG,YAAY,CAACE,YAAY,aAAa,CAACF,EAAG,UAAU,CAACG,MAAM,CAAC,KAAO,YAAYH,EAAG,UAAU,CAACE,YAAY,aAAaC,MAAM,CAAC,KAAO,OAAO,UAAY,uBAAuB,GAAGH,EAAG,MAAM,CAACJ,EAAIY,GAAG,cAAc,IAA+a,GAAIZ,EAAIoK,SAAS,WAAYhK,EAAG,KAAK,CAACd,IAAI,mBAAmBgB,YAAY,QAAQ,CAAEN,EAAU,OAAEI,EAAG,iBAAiB,CAACG,MAAM,CAAC,KAAQP,EAAI0B,KAAO,WAAY,OAAS,MAAM1B,EAAI4C,MAAM,GAAG5C,EAAI4C,MAAM5C,EAAI4C,KAAK5C,EAAIyI,GAAIzI,EAAS,OAAE,SAASuJ,GAAM,OAAOnJ,EAAG,KAAK,CAACd,IAAIiK,EAAKhL,KAAK+B,YAAY,WAAWC,MAAM,CAAC,MAAQgJ,EAAKpB,MAAMjH,GAAG,CAAC,YAAc,SAASC,GAAgC,OAAxBA,EAAOQ,iBAAwB3B,EAAIkC,YAAYf,EAAQoI,EAAKpB,OAAO,SAAW,SAAShH,GAAQ,OAAOnB,EAAIwJ,MAAMT,MAAM,WAAY/I,EAAI0B,KAAO6H,EAAKpB,SAAS,CAAC/H,EAAG,MAAM,CAACE,YAAY,QAAQF,EAAG,YAAY,CAACE,YAAY,aAAa,CAACF,EAAG,UAAU,CAACG,MAAM,CAAC,KAAO,UAAUH,EAAG,UAAU,CAACE,YAAY,aAAaC,MAAM,CAAC,UAAY,mBAAmB,MAAQgJ,EAAKnB,QAAQ,GAAGhI,EAAG,MAAM,CAACE,YAAY,YAAY,CAACN,EAAIY,GAAGZ,EAAIa,GAAG0I,EAAKpB,UAAU,OAAM,GAAKnI,EAAIsK,OAAiStK,EAAI4C,KAA7RxC,EAAG,MAAM,CAACE,YAAY,qBAAqB,CAACF,EAAG,YAAY,CAACE,YAAY,YAAY,CAACF,EAAG,UAAU,CAACG,MAAM,CAAC,KAAO,YAAYH,EAAG,UAAU,CAACE,YAAY,aAAaC,MAAM,CAAC,KAAO,WAAW,UAAY,uBAAuB,GAAGH,EAAG,MAAMJ,EAAIY,GAAG,mCAAmC,MAC/vH,GAAkB,G,0kBCsItB,QACEsJ,QAASC,EAET5L,KAAM,iBAENgM,WAAY,CACVC,aAAJ,IAGE5B,MAAO,CACL0B,OAAQG,SAGVtO,KAAM,WAAR,OACA,cAGE2M,SAAU,GAAZ,GACA,4BAGEkB,QAAS,CACP,cADJ,uJAEA,iBAFA,wGAKI,aALJ,oEAKA,GALA,uGAMA,qBANA,OAMA,EANA,OAOA,GACA,qBARA,yGAYI,aAZJ,oEAYA,KAZA,2FAaA,EAbA,gCAcA,qBAdA,UAcA,EAdA,OAeA,EAfA,sDAkBA,sBACA,8BAGA,mCAtBA,6GC5JsV,MCQlV,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,OAIa,M,QCnBX,GAAS,WAAa,IAAIhK,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAAC4B,WAAW,CAAC,CAACzD,KAAK,OAAO0D,QAAQ,SAASjD,MAAOgB,EAAIyB,cAAgBzB,EAAI0K,YAAavI,WAAW,gCAAgC7B,YAAY,gBAAgB2I,MAAM,CAAE0B,MAAO3K,EAAI4K,YAAa1J,GAAG,CAAC,SAAW,SAASC,GAAQA,EAAOQ,kBAAmB,UAAY,SAASR,GAAQA,EAAOQ,iBAAiB3B,EAAI4K,YAAa,GAAM,UAAY,SAASzJ,GAAgC,GAAxBA,EAAOQ,iBAAoBR,EAAO6H,SAAW7H,EAAO0J,cAAgB,OAAO,KAAO7K,EAAI4K,YAAa,GAAO,KAAO,SAASzJ,GAAgC,OAAxBA,EAAOQ,iBAAwB3B,EAAI8K,OAAO3J,MAAW,CAAEnB,EAAIyB,cAAgBzB,EAAI0K,YAAatK,EAAG,QAAQ,CAAC4B,WAAW,CAAC,CAACzD,KAAK,YAAY0D,QAAQ,cAAcjD,MAAOgB,EAAQ,KAAEmC,WAAW,SAAS7B,YAAY,eAAe,CAACF,EAAG,QAAQ,CAACE,YAAY,kBAAkBC,MAAM,CAAC,OAASP,EAAIc,WAAWC,KAAK,KAAK,KAAO,OAAO,SAAW,IAAIG,GAAG,CAAC,OAASlB,EAAI+K,YAAY3K,EAAG,MAAM,CAACE,YAAY,YAAY,CAAEN,EAAe,YAAE,CAACA,EAAIY,GAAG,yCAA2CZ,EAAIgL,YAA4J,CAAChL,EAAIY,GAAG,kBAAkBZ,EAAIa,GAAGb,EAAIgL,aAAa,QAAQhL,EAAIa,GAAGb,EAAIgL,YAAc,EAAI,IAAM,IAAI,qCAAhP,CAAChL,EAAIY,GAAG,qCAAqCR,EAAG,OAAO,CAACE,YAAY,iBAAiB,CAACN,EAAIY,GAAG,WAAWZ,EAAIY,GAAG,iCAAuK,GAAKZ,EAAIgL,aAAgBhL,EAAI0K,YAA4H1K,EAAI4C,KAAnHxC,EAAG,SAAS,CAACE,YAAY,6BAA6BY,GAAG,CAAC,MAAQlB,EAAIiL,OAAO,CAACjL,EAAIY,GAAG,4BAAqCZ,EAAI4C,QACz+C,GAAkB,G,yBCDhBsI,I,UAAe,CAAC,YAAa,cAEnC,SAASC,GAAQ3F,GACf,OAAO,IAAI4F,SAAQ,SAAAC,GACjB7F,EAAK+D,MAAK,SAAAA,GAAI,OAAI8B,EAAQ9B,SAI9B,SAAS+B,GAAW9F,GAClB,IAAM+F,EAAS/F,EAAKgG,eACpB,OAAO,IAAIJ,SAAQ,SAAAC,GACjBE,EAAOE,aAAY,SAAAC,GAAO,OAAIL,EAAQK,S,SAI3BC,G,mGAAf,WAA2BnG,GAA3B,kHAAiC9D,EAAjC,+BAAwC,GAChCkK,EAAO,IACTpG,EAAKqG,QAAWX,GAAa/B,SAAS3D,EAAKjH,MAFjD,iCAGoB4M,GAAQ3F,GAH5B,OAGUyC,EAHV,OAIUsB,EAAO,IAAIuC,KAAK,CAAC7D,GAAIvG,EAAO8D,EAAKjH,KAAM,CAAEwN,KAAM9D,EAAE8D,OACvDH,EAAK3O,KAAKsM,GALd,4BAMa/D,EAAKwG,YANlB,wBAOItK,GAAQ8D,EAAKjH,KAAO,IAPxB,UAQ0B+M,GAAW9F,GARrC,eAQUkG,EARV,OASUO,EAAWP,EAAQ1D,KAAI,SAAAkE,GAAK,OAAIP,GAAYO,EAAOxK,MAT7D,UAUuB0J,QAAQe,IAAIF,GAVnC,QAUU3E,EAVV,OAWIsE,EAAK3O,KAAL,MAAA2O,EAAI,gBAAStE,IAXjB,iCAcSsE,GAdT,4C,yBAiBO,SAAeQ,GAAtB,mC,gEAAO,WAAwBvK,GAAxB,yGACC+J,EAAO,GACPS,EAAQxK,EAAMyK,aAAaD,MAF5B,8BAGcA,EAHd,qEAGM7G,EAHN,QAIG0G,EAAQ1G,EAAK+G,oBACfL,EALD,kCAMkBP,GAAYO,GAN9B,QAMK5E,EANL,OAODsE,EAAK3O,KAAL,MAAA2O,EAAI,gBAAStE,IAPZ,ySAUEsE,EAAKY,KAAKC,MAVZ,4E,yBChCQ,QAAC,OAAQ,OAAQ,OAAQ,OAAQ,QAAS,OAAQ,OAAQ,OAAQ,QCoDjF,IACE7D,MAAO,CACLlH,KAAMmH,QAGR1M,KAAM,WAAR,OACA,cACA,gBACA,cACA,eACA,cACA,cAGEuQ,QAdF,WAeI9F,SAASlB,KAAKiH,iBAAiB,YAAa1M,KAAK2M,aACjDhG,SAASlB,KAAKiH,iBAAiB,YAAa1M,KAAK4M,cAGnD/C,UAnBF,WAoBIlD,SAASlB,KAAKoH,oBAAoB,YAAa7M,KAAK2M,aACpDhG,SAASlB,KAAKoH,oBAAoB,YAAa7M,KAAK4M,cAGtD7C,QAAS,CACP4C,YADJ,SACA,GACM3M,KAAK8M,YACL9M,KAAK+K,YAAcgC,EAAEV,aAAaD,MAAM1P,OACxCsD,KAAKwB,cAAe,GAGtBoL,YAPJ,SAOA,GACM5M,KAAK8M,YACD9M,KAAK8M,YACT9M,KAAKwB,cAAe,EACpBxB,KAAK+K,YAAc,IAGrB,OAdJ,oEAcA,GAdA,8FAeA,mBAfA,SAgBA,MAhBA,cAgBA,EAhBA,gBAiBA,eAjBA,OAkBA,mBAlBA,yGAqBI,SArBJ,oEAqBA,GArBA,8FAsBA,iBAtBA,SAuBA,eAvBA,OAwBA,oBACA,mBAzBA,yGA4BI,OA5BJ,oEA4BA,GA5BA,gHAiCA,IAJA,oBAEA,KACA,KAhCA,6CAiCA,EAjCA,QAkCA,iCACA,2CAEA,uBAJA,uDAjCA,gPAwCA,SAxCA,wBAyCA,uCAzCA,UA0CA,cA1CA,QA2CA,qBACA,eACA,qBA7CA,QAiDA,oBACA,qBAEA,SAKA,WACA,mDACA,mBACA,sBACA,wEARA,mBACA,wBACA,kCAvDA,qIAkEIiC,KAlEJ,WAmEMhN,KAAKwB,cAAe,GAGtBwJ,KAtEJ,WAuEMhL,KAAKwB,cAAe,KCnJ4T,MCQlV,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,OAIa,M,QCmDf,IACE8I,WAAY,CACV2C,YAAJ,EACIC,QAAJ,EACIC,aAAJ,GACI5C,aAAJ,GACI6C,aAAJ,IAGElR,KAAM,WAAR,OACA,aACA,QACA,eACA,QACA,MACA,QAEA,qBAGE2M,SAAU,CACRpH,KADJ,WAEM,OAAOzB,KAAKqN,OAAO5L,MAGrBc,YALJ,WAKA,MACA,mBADA,EACA,YADA,EACA,OADA,EACA,OAEA,oBACA,2CACA,GACA,oCAEM,MAAO,CACL+K,SAAR,EACQC,UAAR,EACQC,YAAR,KAKE7D,QAzCF,WA0CI3J,KAAKuJ,MAAMK,IAAI,cAAe5J,KAAK2B,iBACnC3B,KAAKuJ,MAAMK,IAAI,WAAY5J,KAAKwC,WAGlCqH,UA9CF,WA+CI7J,KAAKuJ,MAAMO,KAAK,cAAe9J,KAAK2B,iBACpC3B,KAAKuJ,MAAMO,KAAK,WAAY9J,KAAKwC,WAGnCuH,QAAS,CACPjI,QADJ,WAEU9B,KAAKiC,YAAYxB,UACnBT,KAAKiC,YAAYxB,UAAUqB,UAE3B9B,KAAKuJ,MAAMT,MAAM,YAIrBtH,aATJ,WAUMxB,KAAKyN,MAAMC,SAASV,QAGtB,UAbJ,oEAaA,GAbA,kGAcA,eACA,UACA,cAhBA,SAmBA,oBACA,mBACA,kEACA,uBAtBA,UAmBA,EAnBA,OAwBA,EAxBA,iEA0BA,cA1BA,mBA0BA,EA1BA,EA0BA,QACA,EA3BA,wBA4BA,mBACA,4BACA,wCA9BA,2BAmCA,cACA,qBAEA,eAtCA,0GA0CI,WA1CJ,oLA2CA,mBA3CA,EA2CA,OA3CA,EA2CA,OA3CA,SA6CA,qBACA,oBACA,sDACA,iBACA,iBACA,iBAlDA,UA6CA,EA7CA,OAoDA,EApDA,qDAuDA,EAvDA,iCAwDA,uBACA,sBACA,+CACA,kBAHA,2BAIA,UAJA,+BAKA,IALA,6BAMA,GANA,IAxDA,UAwDA,EAxDA,OAgEA,EAhEA,oEAkEA,iBAlEA,oBAkEA,EAlEA,EAkEA,QACA,EAnEA,wBAoEA,mBACA,yBACA,wCAtEA,4CA4EA,cA5EA,QA6EA,eA7EA,yGAgFIxK,SAhFJ,SAgFA,GACM,EAAN,aAGI,QApFJ,oEAoFA,GApFA,2GAqFA,oBACA,oBACA,yDACA,mBACA,cAzFA,UAqFA,EArFA,OA2FA,EA3FA,iEA6FA,oBACA,oBACA,2DACA,mBACA,cAjGA,UA6FA,EA7FA,OAmGA,EAnGA,sDAqGA,MArGA,wBAsGA,mBACA,6BACA,6CAxGA,4CA6GA,qBACA,2BACA,KACA,uIAEA,gBAlHA,WA6GA,EA7GA,OAoHA,EApHA,oEAsHA,eAtHA,QAuHA,gBACA,eAxHA,0GA2HI,QA3HJ,oEA2HA,GA3HA,uGA4HA,oBACA,uBACA,yDACA,cA/HA,UA4HA,EA5HA,OAiIA,EAjIA,iEAmIA,eAnIA,OAoIA,iBACA,eArIA,yGAwIIb,gBAxIJ,YAwIA,gDACM3B,KAAKiC,YAAY+K,MAAO,EACxBhN,KAAKiC,YAAYR,KAAOA,EACxBzB,KAAKiC,YAAY4D,OAASA,EAC1B7F,KAAKiC,YAAYxB,UAAYA,EAC7BT,KAAKiC,YAAYG,IAAMR,EAAM+L,MAAQ,EAAI,KACzC3N,KAAKiC,YAAYI,KAAOT,EAAMgM,MAAQ,EAAI,MAG5CtL,gBAjJJ,WAkJMtC,KAAKiC,YAAY+K,MAAO,EACxBhN,KAAKiC,YAAYR,KAAO,GACxBzB,KAAKiC,YAAY4D,QAAS,EAC1B7F,KAAKiC,YAAYxB,UAAY,QC9QmT,MCQlV,I,UAAY,eACd,GACA,EACA,GACA,EACA,KACA,KACA,OAIa,M,QCkBf,IACE6J,WAAY,CAAd,iBACEpO,KAAM,WAAR,wBCvC8U,MCQ1U,I,UAAY,eACd,GACA,EACA,GACA,EACA,KACA,KACA,OAIa,M,QCff2G,OAAIC,IAAI+K,QAER,IAAMC,GAAS,IAAID,OAAO,CACxB5O,KAAM,UACN8O,KAAMC,IACNC,OAAQ,CACN,CACExM,KAAM,KACNnD,KAAM,OACNmC,UAAWyN,OAKjBJ,GAAOK,YAAW,SAACC,EAAIC,EAAMC,GAC3B,IAAI7M,EAAO2M,EAAG3M,KAAK6C,QAAQ,SAAU,KAEd,MAAnB7C,EAAK3B,OAAO,KACd2B,GAAQ,KAGNA,IAAS2M,EAAG3M,MACd6M,EAAK,CAAE7M,OAAM6C,SAAS,IAGxBgK,OAGaR,UChCX,GAAS,WAAa,IAAI/N,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAQF,EAAW,QAAEI,EAAG,MAAM,CAACE,YAAY,QAAQY,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAGA,EAAO6H,SAAW7H,EAAO0J,cAAuB,KAAc7K,EAAIwO,OAAOrN,MAAW,CAACf,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,MAAM,CAACE,YAAY,OAAO,CAAEN,EAAI2E,QAAa,MAAEvE,EAAG,KAAK,CAACJ,EAAIY,GAAGZ,EAAIa,GAAGb,EAAI2E,QAAQ8J,UAAUzO,EAAI4C,KAAM5C,EAAI2E,QAAY,KAAEvE,EAAG,IAAI,CAACsO,SAAS,CAAC,UAAY1O,EAAIa,GAAGb,EAAI2E,QAAQe,SAAS1F,EAAI4C,KAAKxC,EAAG,MAAM,CAACE,YAAY,QAAQ,CAAuB,WAArBN,EAAI2E,QAAQoH,KAAmB,CAAiD,cAA9C/L,EAAI2E,QAAQwB,SAAW,WAAa,QAAsB/F,EAAG,QAAQ,CAAC4B,WAAW,CAAC,CAACzD,KAAK,QAAQ0D,QAAQ,UAAUjD,MAAOgB,EAAU,OAAEmC,WAAW,WAAWL,IAAI,SAASvB,MAAM,CAAC,KAAO,YAAYmO,SAAS,CAAC,QAAUnJ,MAAMoJ,QAAQ3O,EAAI4O,QAAQ5O,EAAI6O,GAAG7O,EAAI4O,OAAO,OAAO,EAAG5O,EAAU,QAAGkB,GAAG,CAAC,OAAS,SAASC,GAAQ,IAAI2N,EAAI9O,EAAI4O,OAAOG,EAAK5N,EAAO6H,OAAOgG,IAAID,EAAKE,QAAuB,GAAG1J,MAAMoJ,QAAQG,GAAK,CAAC,IAAII,EAAI,KAAKC,EAAInP,EAAI6O,GAAGC,EAAII,GAAQH,EAAKE,QAASE,EAAI,IAAInP,EAAI4O,OAAOE,EAAIM,OAAO,CAACF,KAAYC,GAAK,IAAInP,EAAI4O,OAAOE,EAAI/O,MAAM,EAAEoP,GAAKC,OAAON,EAAI/O,MAAMoP,EAAI,UAAWnP,EAAI4O,OAAOI,MAAyD,WAA9ChP,EAAI2E,QAAQwB,SAAW,WAAa,QAAmB/F,EAAG,QAAQ,CAAC4B,WAAW,CAAC,CAACzD,KAAK,QAAQ0D,QAAQ,UAAUjD,MAAOgB,EAAU,OAAEmC,WAAW,WAAWL,IAAI,SAASvB,MAAM,CAAC,KAAO,SAASmO,SAAS,CAAC,QAAU1O,EAAIqP,GAAGrP,EAAI4O,OAAO,OAAO1N,GAAG,CAAC,OAAS,SAASC,GAAQnB,EAAI4O,OAAO,SAASxO,EAAG,QAAQ,CAAC4B,WAAW,CAAC,CAACzD,KAAK,QAAQ0D,QAAQ,UAAUjD,MAAOgB,EAAU,OAAEmC,WAAW,WAAWL,IAAI,SAASvB,MAAM,CAAC,KAAOP,EAAI2E,QAAQwB,SAAW,WAAa,QAAQuI,SAAS,CAAC,MAAS1O,EAAU,QAAGkB,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAO6H,OAAOsG,YAAqBtP,EAAI4O,OAAOzN,EAAO6H,OAAOhK,YAAiC,UAArBgB,EAAI2E,QAAQoH,KAAkB,CAAC3L,EAAG,QAAQ,CAAC4B,WAAW,CAAC,CAACzD,KAAK,QAAQ0D,QAAQ,UAAUjD,MAAOgB,EAAU,OAAEmC,WAAW,WAAWL,IAAI,QAAQmH,MAAM,CAAE,iBAAkBjJ,EAAI+H,OAAQxH,MAAM,CAAC,YAAc,WAAW,KAAO,QAAQmO,SAAS,CAAC,MAAS1O,EAAU,QAAGkB,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAO6H,OAAOsG,YAAqBtP,EAAI4O,OAAOzN,EAAO6H,OAAOhK,WAAUoB,EAAG,QAAQ,CAAC4B,WAAW,CAAC,CAACzD,KAAK,QAAQ0D,QAAQ,UAAUjD,MAAOgB,EAAU,OAAEmC,WAAW,WAAW8G,MAAM,CAAE,iBAAkBjJ,EAAI+H,OAAQxH,MAAM,CAAC,YAAc,WAAW,KAAO,YAAYmO,SAAS,CAAC,MAAS1O,EAAU,QAAGkB,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAO6H,OAAOsG,YAAqBtP,EAAIuP,OAAOpO,EAAO6H,OAAOhK,WAAWgB,EAAS,MAAEI,EAAG,IAAI,CAACE,YAAY,gBAAgB,CAACN,EAAIY,GAAG,2DAA2DZ,EAAI4C,KAAK5C,EAAIW,GAAG,IAAIX,EAAI4C,MAAM,KAAKxC,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAAuB,UAArBN,EAAI2E,QAAQoH,KAAkB3L,EAAG,SAAS,CAACE,YAAY,MAAM2I,MAAMjJ,EAAI2E,QAAQ6K,YAAYtO,GAAG,CAAC,MAAQlB,EAAIwO,SAAS,CAACxO,EAAIY,GAAG,aAAaZ,EAAIa,GAAGb,EAAI2E,QAAQ8K,aAAa,cAAczP,EAAI4C,KAAKxC,EAAG,SAAS,CAACE,YAAY,MAAM2I,MAAMjJ,EAAI2E,QAAQ+K,QAAQnP,MAAM,CAAC,SAAWP,EAAI2P,SAASzO,GAAG,CAAC,MAAQlB,EAAI4P,KAAK,CAAC5P,EAAIY,GAAG,aAAaZ,EAAIa,GAAGb,EAAI2E,QAAQkL,SAAS,oBAAoB7P,EAAI4C,MACr5F,GAAkB,CAAC,WAAa,IAAI5C,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,IAAI,CAACA,EAAG,IAAI,CAACE,YAAY,qBAAqBC,MAAM,CAAC,KAAO,sCAAsC,OAAS,WAAW,CAACP,EAAIY,GAAG,wD,gkBCsE3O,QACEmL,KAAM,UACN0C,MAAO,GACP/I,KAAM,GACNoK,QAAS,GACTD,QAAS,KACTH,QAAS,GACTD,YAAa,SACbD,YAAa,SACbrJ,UAAU,GAGZ,cACE,IAAF,IAEA,6BACIrB,EAAMuG,EACN0E,EAAMC,KAMR,OAHAC,EAAQ5E,QAAUvG,EAClBmL,EAAQD,OAASD,EAEVE,GAGT,IACE9T,KAAM,WAAR,OACA,WACA,SACA,WACA,SACA,aACA,cACA,YACA,WACA,aACA,WACA,qBACA,qBACA,aAEA,UACA,UACA,gBAGEyN,QArBF,WAsBIhD,SAASlB,KAAKiH,iBAAiB,UAAW1M,KAAKiQ,YAGjDpG,UAzBF,WA0BIlD,SAASlB,KAAKoH,oBAAoB,UAAW7M,KAAKiQ,YAGpDlG,QAAS,CACPkG,UADJ,SACA,GACWjQ,KAAKkQ,UAEI,UAAVnD,EAAE1N,IACJW,KAAK2P,KACb,kBACQ3P,KAAKuO,WAITvB,KAXJ,SAWA,cAgBM,OAfArQ,OAAO4G,OAAOvD,KAAK0E,QAASyL,GAAUzL,GACtC1E,KAAKkQ,SAAU,EAEW,WAAtBlQ,KAAK0E,QAAQoH,MACf9L,KAAK2O,OAAS3O,KAAK0E,QAAQmL,QAC3B7P,KAAKoQ,WAAU,WACb,IAAV,iBACUC,EAAMC,QACND,EAAME,kBAAkB,EAAGF,EAAMtR,MAAMrC,YAEjD,6BACQsD,KAAKoQ,WAAU,WAAvB,gCAGMpQ,KAAKwQ,SAAWA,KACTxQ,KAAKwQ,UAGdC,MA9BJ,SA8BA,GACM,OAAOzQ,KAAKgN,KAAK,GAAvB,CACQlB,KAAM,SACd,KAII4E,QArCJ,SAqCA,GACM,OAAO1Q,KAAKgN,KAAK,GAAvB,CACQlB,KAAM,WACd,KAII6E,OA5CJ,SA4CA,GACM,OAAO3Q,KAAKgN,KAAK,GAAvB,CACQlB,KAAM,UACd,KAIIzK,MAnDJ,SAmDA,GACM,OAAOrB,KAAKgN,KAAK,GAAvB,CACQlB,KAAM,QACN0C,MAAO,mBACP/I,KAAM,mCACNmK,QAAS,SACTH,QAAS,UACTF,YAAa,IACrB,KAIIqB,MA/DJ,WAgEM5Q,KAAKkQ,SAAU,EACflQ,KAAK2O,OAAS,GACd3O,KAAKsP,OAAS,GACdtP,KAAKwQ,SAAW,MAGlBjC,OAtEJ,WAuEgC,YAAtBvO,KAAK0E,QAAQoH,KACf9L,KAAKwQ,SAASpF,SAAQ,GAEtBpL,KAAKwQ,SAASpF,aAAQyF,GAGxB7Q,KAAK4Q,SAGPjB,GAhFJ,WAiFM,IAAN,EACM,GAA0B,YAAtB3P,KAAK0E,QAAQoH,KACf5P,GAAO,OACf,gCACQA,EAAO8D,KAAK2O,YACpB,+BAEQ,YADA3O,KAAK8Q,eAIP9Q,KAAKwQ,SAASpF,QAAQlP,GACtB8D,KAAK4Q,SAGP,aA/FJ,sKAgGA,cACA,gBAEA,GACA,qBACA,sBArGA,SAwGA,gCAxGA,OAwGA,EAxGA,OAyGA,gBAEA,GACA,0BACA,cAEA,cA/GA,0GC9H+U,MCQ3U,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,OAIa,M,+CCZf/N,OAAIkO,OAAOC,eAAgB,EAY3BC,QAAQtL,IAAIuL,SACZrO,OAAIpC,UAAU,UAAW0Q,SACzBtO,OAAIpC,UAAU,YAAa2Q,SAC3BvO,OAAIpC,UAAU,UAAW4Q,SAGzBxO,OAAIyO,UAAU,YAAa,CACzBhS,KADyB,SACpBiS,EAAIC,EAASC,GAChBF,EAAGrV,KAAO,CACRwV,KAAM,SAAA3E,GAAC,OAAIA,EAAE/C,mBACbpI,MAAO,kBAAM6P,EAAME,QAAQH,EAAQtP,gBAGrC0P,YAAW,WACTjL,SAASlB,KAAKiH,iBAAiB,QAAS6E,EAAGrV,KAAK0F,OAChD2P,EAAG7E,iBAAiB,QAAS6E,EAAGrV,KAAKwV,QACpC,IAELG,OAZyB,SAYlBN,GACL5K,SAASlB,KAAKoH,oBAAoB,QAAS0E,EAAGrV,KAAK0F,OACnD2P,EAAG1E,oBAAoB,QAAS0E,EAAGrV,KAAKwV,SAI5CnN,EAAMpD,SAAS,WAEf,IAAM2Q,GAAM,IAAIjP,OAAI,CAClBiL,UACAvJ,QACAwN,OAAQ,SAAAC,GAAC,OAAIA,EAAEC,MACdC,OAAO,QAGJC,GAAStP,OAAIuP,OAAOC,IACpBC,GAAQ,IAAIH,GAAO,CAAE5N,UAC3B+N,GAAMJ,SACNrP,OAAIjG,UAAUwE,OAASkR,GACvBR,GAAIvI,MAAMgJ,IAAIrL,YAAYoL,GAAMC,M,oCCxDhC,yBAAgf,EAAG,G,6DCAnf,yBAA8gB,EAAG,G,2GCAjhB,yBAAygB,EAAG,G,4CCA5gBtU,EAAOD,QAAU,IAA0B,yB,gFCA3C,yBAA6gB,EAAG,G","file":"js/app.0eb8171f.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileExplorer.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileExplorer.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileViewGrid.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileViewGrid.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileDropzone.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileDropzone.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Modal.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Modal.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"w-screen h-screen\",attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=729f98e2&\"\nvar script = {}\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"home min-h-full container m-auto bg-white flex flex-col\"},[_vm._m(0),_c('p',{staticClass:\"text-lg pt-2 pb-4\"},[_vm._v(\"\\n    Drag and drop or click the new file button to upload files.\"),_c('br'),_vm._v(\"\\n    Supports \"),_c('b',[_vm._v(_vm._s(_vm.extensions.join(' ')))])]),_c('div',{staticClass:\"text-left\"},[_c('div',{staticClass:\"text-lg text-left px-4 py-2 ml-4 rounded bg-gray-200 inline\"},[(_vm.$store.state.name)?[_vm._v(\"\\n        Welcome \"),_c('b',[_vm._v(_vm._s(_vm.$store.state.name)+\"!\")]),_vm._v(\"Â \\n        \"),_c('a',{staticClass:\"link text-red-500\",on:{\"click\":function($event){return _vm.$store.dispatch('logout')}}},[_vm._v(\"log out\")])]:[_vm._v(\"\\n        Welcome!\\n        \"),_c('a',{staticClass:\"link text-blue-500\",on:{\"click\":function($event){return _vm.$modal.login()}}},[_vm._v(\"log in\")])]],2)]),_c('file-explorer')],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('header',{staticClass:\"pt-10 mx-auto\"},[_c('h1',{staticClass:\"inline-flex items-baseline\"},[_c('img',{staticClass:\"mr-4\",attrs:{\"src\":require(\"@/assets/logo.png\")}}),_vm._v(\" Vault\\n    \")]),_c('h2',[_vm._v(\"Upload files to make them available in Nanome!\")])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"file-explorer flex flex-col m-4 bg-gray-100 rounded flex-grow\"},[_c('div',{staticClass:\"mx-4 mt-4 border-b\"},[_c('toolbar',{on:{\"display-mode\":function($event){_vm.displayMode = $event},\"new-folder\":_vm.newFolder,\"show-upload\":_vm.showDropzone}}),_c('breadcrumbs',{attrs:{\"path\":_vm.path}})],1),_c('div',{staticClass:\"flex-grow relative select-none px-4\",on:{\"contextmenu\":function($event){$event.preventDefault();return _vm.showContextMenu({ event: $event, path: _vm.path })}}},[(_vm.displayMode === 'grid')?_c('file-view-grid',{attrs:{\"path\":_vm.path}}):_c('file-view-list',{attrs:{\"path\":_vm.path}}),_c('file-dropzone',{ref:\"dropzone\",attrs:{\"path\":_vm.path},on:{\"upload\":_vm.refresh}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.contextmenu.show),expression:\"contextmenu.show\"},{name:\"click-out\",rawName:\"v-click-out\",value:(_vm.hideContextMenu),expression:\"hideContextMenu\"}],staticClass:\"contextmenu\",style:({ top: _vm.contextmenu.top, left: _vm.contextmenu.left }),on:{\"click\":_vm.hideContextMenu}},[_c('ul',[(_vm.menuOptions.isFolder)?_c('li',[_c('button',{staticClass:\"text-gray-800\",on:{\"click\":function($event){return _vm.newFolder(_vm.contextmenu.path)}}},[_c('fa-icon',{attrs:{\"icon\":\"folder-plus\"}}),_vm._v(\"\\n          new folder\\n        \")],1)]):_c('li',[_c('button',{staticClass:\"text-gray-800\",on:{\"click\":function($event){return _vm.download(_vm.contextmenu.path)}}},[_c('fa-icon',{attrs:{\"icon\":\"file-download\"}}),_vm._v(\"\\n          download\\n        \")],1)]),(_vm.menuOptions.encryptable)?_c('li',[_c('button',{staticClass:\"text-gray-800\",on:{\"click\":function($event){return _vm.encrypt(_vm.contextmenu.path)}}},[_c('fa-icon',{attrs:{\"icon\":\"lock\"}}),_vm._v(\"\\n          encrypt\\n        \")],1)]):(_vm.contextmenu.locked)?_c('li',[_c('button',{staticClass:\"text-gray-800\",on:{\"click\":function($event){return _vm.decrypt(_vm.contextmenu.path)}}},[_c('fa-icon',{attrs:{\"icon\":\"lock-open\"}}),_vm._v(\"\\n          decrypt\\n        \")],1)]):_vm._e(),(_vm.menuOptions.deletable)?_c('li',[_c('button',{staticClass:\"text-red-500\",on:{\"click\":_vm.deleteItem}},[_c('fa-icon',{attrs:{\"icon\":\"trash\"}}),_vm._v(\"\\n          delete\\n        \")],1)]):_vm._e()])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import Vue from 'vue'\nimport Vuex from 'vuex'\nimport API from '@/api'\n\nVue.use(Vuex)\n\nconst state = {\n  token: localStorage.getItem('user-token') || null,\n  unique: null,\n  name: null\n}\n\nconst mutations = {\n  PATCH_USER(state, payload) {\n    Object.assign(state, payload)\n  }\n}\n\nasync function saveSession(commit, { success, results }) {\n  if (success) {\n    const user = {\n      unique: results.user.unique,\n      name: results.user.name,\n      token: results.token.value\n    }\n    commit('PATCH_USER', user)\n    localStorage.setItem('user-token', results.token.value)\n\n    try {\n      await API.create('/' + results.user.unique)\n    } catch (e) {}\n\n    return true\n  } else {\n    localStorage.removeItem('user-token')\n    return false\n  }\n}\n\nconst actions = {\n  async login({ commit }, creds) {\n    const data = await API.login(creds)\n    return saveSession(commit, data)\n  },\n\n  async refresh({ commit }) {\n    const data = await API.refresh()\n    return saveSession(commit, data)\n  },\n\n  async logout({ commit }) {\n    commit('PATCH_USER', {\n      token: null,\n      name: null,\n      unique: null\n    })\n    localStorage.removeItem('user-token')\n  }\n}\n\nexport default new Vuex.Store({\n  state,\n  mutations,\n  actions\n})\n","import store from '@/store'\nconst LOGIN_API = 'https://api.nanome.ai/user'\n\nfunction replaceAccount(path) {\n  return path.replace(/^\\/account/, '/' + store.state.unique)\n}\n\nfunction request(url, options) {\n  return fetch(url, options).then(async res => {\n    const json = await res.json()\n    json.code = res.status\n    return json\n  })\n}\n\nfunction sendCommand(path, command, params) {\n  path = replaceAccount(path)\n\n  const data = new FormData()\n  data.append('command', command)\n\n  for (const key in params) {\n    const value = params[key]\n    if (value instanceof Array) {\n      for (const item of value) {\n        data.append(key, item)\n      }\n    } else {\n      data.append(key, params[key])\n    }\n  }\n\n  return request('/files' + path, {\n    method: 'POST',\n    body: data\n  })\n}\n\nconst keys = {}\n\nconst API = {\n  keys: {\n    add(path, key) {\n      path = path.replace(/\\/$/, '')\n      keys[path] = key\n    },\n    get(path) {\n      const paths = Object.keys(keys)\n      const locked = paths.find(p => path.indexOf(p) == 0)\n      return keys[locked]\n    },\n    remove(path) {\n      delete keys[path]\n    }\n  },\n\n  login({ username, password }) {\n    const body = {\n      login: username,\n      pass: password,\n      source: 'web:plugin-vault'\n    }\n\n    return request(`${LOGIN_API}/login`, {\n      headers: { 'Content-Type': 'application/json' },\n      method: 'POST',\n      body: JSON.stringify(body)\n    })\n  },\n\n  refresh() {\n    const token = store.state.token\n    if (!token) return {}\n\n    return request(`${LOGIN_API}/session`, {\n      headers: { Authorization: `Bearer ${token}` }\n    })\n  },\n\n  async download(path) {\n    const options = { headers: {} }\n    const key = API.keys.get(path)\n    if (key) {\n      options.headers['Vault-Key'] = key\n    }\n\n    const blob = await fetch('/files' + path, options).then(res => res.blob())\n\n    const a = document.createElement('a')\n    const url = window.URL.createObjectURL(blob)\n    a.href = url\n    a.download = path.substring(path.lastIndexOf('/') + 1)\n    document.body.appendChild(a)\n    a.click()\n    a.remove()\n    window.URL.revokeObjectURL(url)\n  },\n\n  list(path) {\n    const options = { headers: {} }\n    const key = API.keys.get(path)\n    if (key) {\n      options.headers['Vault-Key'] = key\n    }\n\n    path = replaceAccount(path)\n    return request('/files' + path, options)\n  },\n\n  async getFolder(path) {\n    const folder = {\n      path: '',\n      parent: '',\n      folders: [],\n      locked: [],\n      files: []\n    }\n\n    if (path.slice(-1) !== '/') {\n      path += '/'\n    }\n\n    if (path !== '/') {\n      const lastSlash = path.slice(0, -1).lastIndexOf('/')\n      folder.parent = path.substring(0, lastSlash) + '/'\n    }\n\n    const data = await API.list(path)\n    if (!data.success) {\n      const err = new Error(data.error)\n      err.code = data.code\n      throw err\n    }\n\n    folder.path = path\n    folder.locked = data.locked\n    folder.folders = data.folders\n    folder.files = data.files.map(f => {\n      const [full, name, ext] = /^(.+?)(?:\\.(\\w+))?$/.exec(f)\n      return { full, name, ext }\n    })\n\n    return folder\n  },\n\n  upload(path, files) {\n    if (!files || !files.length) return\n    return sendCommand(path, 'upload', { files, key: API.keys.get(path) })\n  },\n\n  delete(path, key) {\n    key = key || API.keys.get(path)\n    return sendCommand(path, 'delete', { key })\n  },\n\n  create(path) {\n    return sendCommand(path, 'create')\n  },\n\n  encrypt(path, key) {\n    return sendCommand(path, 'encrypt', { key })\n  },\n\n  decrypt(path, key) {\n    return sendCommand(path, 'decrypt', { key })\n  },\n\n  verifyKey(path, key) {\n    return sendCommand(path, 'verify', { key })\n  }\n}\n\nexport default API\n","var render, staticRenderFns\nimport script from \"./FileViewBase.vue?vue&type=script&lang=js&\"\nexport * from \"./FileViewBase.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"breadcrumbs flex text-xl py-3 items-center\"},[_c('router-link',{staticClass:\"btn rounded mr-2\",attrs:{\"to\":_vm.parentPath,\"event\":_vm.parentPath ? 'click' : '',\"tabindex\":_vm.parentPath ? '' : -1,\"disabled\":!_vm.parentPath,\"tag\":\"button\"}},[_c('fa-icon',{attrs:{\"icon\":\"arrow-up\"}})],1),_vm._l((_vm.subpaths.slice(0, -1)),function(ref){\nvar name = ref.name;\nvar path = ref.path;\nreturn _c('div',{key:path},[_c('router-link',{staticClass:\"px-3\",attrs:{\"to\":path}},[_vm._v(_vm._s(name))]),_c('fa-icon',{attrs:{\"icon\":\"angle-right\"}})],1)}),_c('div',{staticClass:\"text-gray-600 px-3\"},[_vm._v(_vm._s(_vm.currentName))])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"breadcrumbs flex text-xl py-3 items-center\">\n    <router-link\n      :to=\"parentPath\"\n      :event=\"parentPath ? 'click' : ''\"\n      :tabindex=\"parentPath ? '' : -1\"\n      :disabled=\"!parentPath\"\n      tag=\"button\"\n      class=\"btn rounded mr-2\"\n    >\n      <fa-icon icon=\"arrow-up\" />\n    </router-link>\n    <div v-for=\"{ name, path } of subpaths.slice(0, -1)\" :key=\"path\">\n      <router-link class=\"px-3\" :to=\"path\">{{ name }}</router-link>\n      <fa-icon icon=\"angle-right\" />\n    </div>\n    <div class=\"text-gray-600 px-3\">{{ currentName }}</div>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    path: String\n  },\n\n  computed: {\n    subpaths() {\n      const segments = this.path.slice(0, -1).split('/')\n      const subpaths = []\n\n      let path = ''\n      for (let name of segments) {\n        path += name + '/'\n        if (!name) {\n          name = 'files'\n        }\n        subpaths.push({ name, path })\n      }\n\n      return subpaths\n    },\n\n    currentName() {\n      return this.subpaths[this.subpaths.length - 1].name\n    },\n\n    parentPath() {\n      if (this.path == '/') return ''\n\n      const lastSlash = this.path.slice(0, -1).lastIndexOf('/')\n      return this.path.slice(0, lastSlash) + '/'\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n.breadcrumbs {\n  .disabled {\n    opacity: 0.5;\n    pointer-events: none;\n    outline: none;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Breadcrumbs.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Breadcrumbs.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Breadcrumbs.vue?vue&type=template&id=b69664d2&\"\nimport script from \"./Breadcrumbs.vue?vue&type=script&lang=js&\"\nexport * from \"./Breadcrumbs.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Breadcrumbs.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"toolbar flex text-lg items-center\"},[_c('div',{staticClass:\"toggle relative mr-2 flex\"},[_c('input',{attrs:{\"checked\":\"\",\"value\":\"grid\",\"type\":\"radio\",\"name\":\"display-mode\",\"id\":\"display-mode-grid\"},on:{\"input\":function($event){return _vm.$emit('display-mode', $event.target.value)}}}),_c('label',{staticClass:\"btn rounded-l\",attrs:{\"for\":\"display-mode-grid\"}},[_c('fa-icon',{attrs:{\"icon\":\"th\"}})],1),_c('input',{attrs:{\"value\":\"list\",\"type\":\"radio\",\"name\":\"display-mode\",\"id\":\"display-mode-list\"},on:{\"input\":function($event){return _vm.$emit('display-mode', $event.target.value)}}}),_c('label',{staticClass:\"btn rounded-r\",attrs:{\"for\":\"display-mode-list\"}},[_c('fa-icon',{attrs:{\"icon\":\"bars\"}})],1)]),_c('button',{staticClass:\"btn rounded mr-2\",on:{\"click\":function($event){return _vm.$emit('new-folder')}}},[_c('fa-layers',[_c('fa-icon',{attrs:{\"icon\":\"folder\"}}),_c('fa-icon',{staticClass:\"text-white\",attrs:{\"icon\":\"plus\",\"transform\":\"down-1 shrink-10\"}})],1),_c('span',{staticClass:\"hidden lg:inline\"},[_vm._v(\" new folder\")])],1),_c('button',{staticClass:\"btn rounded\",on:{\"click\":function($event){return _vm.$emit('show-upload')}}},[_c('fa-icon',{attrs:{\"icon\":\"cloud-upload-alt\"}}),_c('span',{staticClass:\"hidden lg:inline\"},[_vm._v(\" upload\")])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./Toolbar.vue?vue&type=template&id=7f834c60&\"\nvar script = {}\nimport style0 from \"./Toolbar.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"file-view-grid-view pt-4 text-xl\",class:{ grid: _vm.files.length || _vm.folders.length }},[_vm._l((_vm.folders),function(folder){return [(_vm.locked.includes(folder))?_c('a',{key:folder,staticClass:\"cursor-default\",attrs:{\"title\":folder},on:{\"dblclick\":function($event){return _vm.openLocked(folder)},\"contextmenu\":function($event){$event.preventDefault();return _vm.contextmenu($event, folder + '/', true)}}},[_c('fa-layers',{staticClass:\"icon\"},[_c('fa-icon',{attrs:{\"icon\":\"folder\"}}),_c('fa-icon',{staticClass:\"text-white\",attrs:{\"icon\":_vm.isLocked(folder) ? 'lock' : 'lock-open',\"transform\":\"down-1 shrink-11\"}})],1),_c('div',{staticClass:\"truncate\"},[_vm._v(_vm._s(folder))])],1):_c('router-link',{key:folder,staticClass:\"cursor-default\",attrs:{\"title\":folder,\"to\":(\"\" + _vm.path + folder + \"/\"),\"event\":\"dblclick\"},nativeOn:{\"contextmenu\":function($event){$event.preventDefault();return _vm.contextmenu($event, folder + '/')}}},[_c('fa-icon',{staticClass:\"icon pointer-events-none\",attrs:{\"icon\":\"folder\"}}),_c('div',{staticClass:\"truncate\"},[_vm._v(_vm._s(folder))])],1)]}),(_vm.path == '/')?[(!_vm.$store.state.unique)?_c('a',{on:{\"dblclick\":function($event){return _vm.$modal.login()}}},[_c('fa-layers',{staticClass:\"icon\"},[_c('fa-icon',{attrs:{\"icon\":\"folder\"}}),_c('fa-icon',{staticClass:\"text-white\",attrs:{\"icon\":\"lock\",\"transform\":\"down-1 shrink-11\"}})],1),_c('div',[_vm._v(\"account\")])],1):_c('router-link',{staticClass:\"cursor-default\",attrs:{\"to\":\"/account/\",\"event\":\"dblclick\"},nativeOn:{\"contextmenu\":function($event){$event.preventDefault();return _vm.contextmenu($event, 'account/')}}},[_c('fa-layers',{staticClass:\"icon\"},[_c('fa-icon',{attrs:{\"icon\":\"folder\"}}),_c('fa-icon',{staticClass:\"text-white\",attrs:{\"icon\":\"lock-open\",\"transform\":\"down-1 shrink-11\"}})],1),_c('div',[_vm._v(\"account\")])],1)]:_vm._e(),_vm._l((_vm.files),function(file){return _c('div',{key:file.full,attrs:{\"title\":file.full},on:{\"contextmenu\":function($event){$event.preventDefault();return _vm.contextmenu($event, file.full)},\"dblclick\":function($event){return _vm.$root.$emit('download', _vm.path + file.full)}}},[_c('fa-layers',{staticClass:\"icon\"},[_c('fa-icon',{attrs:{\"icon\":\"file\"}}),_c('fa-text',{staticClass:\"text-white\",attrs:{\"transform\":\"down-4 shrink-12\",\"value\":file.ext}})],1),_c('div',{staticClass:\"truncate\"},[_vm._v(_vm._s(file.name))])],1)}),(!_vm.files.length && !_vm.folders.length)?_c('div',{staticClass:\"text-xl py-4\"},[_c('fa-layers',{staticClass:\"text-6xl\"},[_c('fa-icon',{attrs:{\"icon\":\"folder\"}}),_c('fa-icon',{staticClass:\"text-white\",attrs:{\"icon\":\"sad-tear\",\"transform\":\"down-1 shrink-10\"}})],1),_c('br'),_vm._v(\"\\n    this folder is empty\\n  \")],1):_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport API from '@/api'\n\nexport default {\n  props: {\n    path: String\n  },\n\n  data: () => ({\n    locked: [],\n    folders: [],\n    files: []\n  }),\n\n  watch: {\n    path: {\n      handler: 'refresh',\n      immediate: true\n    }\n  },\n\n  mounted() {\n    this.$root.$on('refresh', this.refresh)\n  },\n\n  destroyed() {\n    this.$root.$off('refresh', this.refresh)\n  },\n\n  methods: {\n    async refresh(newPath) {\n      if (this.beforeRefresh && newPath) this.beforeRefresh()\n\n      try {\n        const data = await API.getFolder(this.path)\n        this.locked = data.locked\n        this.folders = data.folders\n        this.files = data.files\n      } catch (e) {\n        if (e.code === 403) {\n          const unlocked = await this.unlockFolder(this.path)\n          if (unlocked) {\n            this.refresh()\n            return\n          }\n        }\n\n        this.$router.push('/')\n      }\n    },\n\n    contextmenu(event, item, locked = false) {\n      event.stopPropagation()\n      this.$root.$emit('contextmenu', {\n        event,\n        path: this.path + item,\n        locked,\n        component: this\n      })\n    },\n\n    isLocked(folder) {\n      const path = this.path + folder\n      return this.locked.includes(folder) && !API.keys.get(path)\n    },\n\n    async unlockFolder(folder) {\n      const path = this.path + folder\n      if (!this.isLocked(folder)) {\n        return true\n      }\n\n      const key = await this.$modal.prompt({\n        title: 'Unlock Folder',\n        body: `Attempting to view ${path}<br>Please enter key:`,\n        password: true\n      })\n      if (!key) return false\n\n      const { success } = await API.verifyKey(path, key)\n      if (!success) {\n        await this.$modal.alert({\n          title: 'Unlock Failed',\n          body: 'The provided key was incorrect'\n        })\n        return false\n      }\n\n      API.keys.add(path, key)\n      return true\n    },\n\n    async openLocked(folder) {\n      const unlocked = await this.unlockFolder(folder)\n      if (unlocked) {\n        this.$router.push(this.path + folder).catch(e => {})\n      }\n    }\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileViewBase.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileViewBase.vue?vue&type=script&lang=js&\"","<template>\n  <div\n    class=\"file-view-grid-view pt-4 text-xl\"\n    :class=\"{ grid: files.length || folders.length }\"\n  >\n    <template v-for=\"folder in folders\">\n      <a\n        v-if=\"locked.includes(folder)\"\n        :key=\"folder\"\n        :title=\"folder\"\n        @dblclick=\"openLocked(folder)\"\n        @contextmenu.prevent=\"contextmenu($event, folder + '/', true)\"\n        class=\"cursor-default\"\n      >\n        <fa-layers class=\"icon\">\n          <fa-icon icon=\"folder\" />\n          <fa-icon\n            :icon=\"isLocked(folder) ? 'lock' : 'lock-open'\"\n            class=\"text-white\"\n            transform=\"down-1 shrink-11\"\n          />\n        </fa-layers>\n        <div class=\"truncate\">{{ folder }}</div>\n      </a>\n\n      <router-link\n        v-else\n        :key=\"folder\"\n        :title=\"folder\"\n        :to=\"`${path}${folder}/`\"\n        @contextmenu.native.prevent=\"contextmenu($event, folder + '/')\"\n        event=\"dblclick\"\n        class=\"cursor-default\"\n      >\n        <fa-icon icon=\"folder\" class=\"icon pointer-events-none\" />\n        <div class=\"truncate\">{{ folder }}</div>\n      </router-link>\n    </template>\n\n    <template v-if=\"path == '/'\">\n      <a v-if=\"!$store.state.unique\" @dblclick=\"$modal.login()\">\n        <fa-layers class=\"icon\">\n          <fa-icon icon=\"folder\" />\n          <fa-icon\n            icon=\"lock\"\n            class=\"text-white\"\n            transform=\"down-1 shrink-11\"\n          />\n        </fa-layers>\n        <div>account</div>\n      </a>\n\n      <router-link\n        v-else\n        to=\"/account/\"\n        @contextmenu.native.prevent=\"contextmenu($event, 'account/')\"\n        event=\"dblclick\"\n        class=\"cursor-default\"\n      >\n        <fa-layers class=\"icon\">\n          <fa-icon icon=\"folder\" />\n          <fa-icon\n            icon=\"lock-open\"\n            class=\"text-white\"\n            transform=\"down-1 shrink-11\"\n          />\n        </fa-layers>\n        <div>account</div>\n      </router-link>\n    </template>\n\n    <div\n      v-for=\"file in files\"\n      :key=\"file.full\"\n      :title=\"file.full\"\n      @contextmenu.prevent=\"contextmenu($event, file.full)\"\n      @dblclick=\"$root.$emit('download', path + file.full)\"\n    >\n      <fa-layers class=\"icon\">\n        <fa-icon icon=\"file\" />\n        <fa-text\n          class=\"text-white\"\n          transform=\"down-4 shrink-12\"\n          :value=\"file.ext\"\n        />\n      </fa-layers>\n      <div class=\"truncate\">{{ file.name }}</div>\n    </div>\n\n    <div v-if=\"!files.length && !folders.length\" class=\"text-xl py-4\">\n      <fa-layers class=\"text-6xl\">\n        <fa-icon icon=\"folder\" />\n        <fa-icon\n          icon=\"sad-tear\"\n          class=\"text-white\"\n          transform=\"down-1 shrink-10\"\n        />\n      </fa-layers>\n      <br />\n      this folder is empty\n    </div>\n  </div>\n</template>\n\n<script>\nimport FileViewBase from '@/components/FileViewBase'\n\nexport default {\n  extends: FileViewBase\n}\n</script>\n\n<style lang=\"scss\">\n.file-view-grid-view {\n  grid-template-columns: repeat(auto-fill, minmax(7rem, 1fr));\n\n  .icon {\n    font-size: 4rem;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileViewGrid.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileViewGrid.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FileViewGrid.vue?vue&type=template&id=744bca07&\"\nimport script from \"./FileViewGrid.vue?vue&type=script&lang=js&\"\nexport * from \"./FileViewGrid.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FileViewGrid.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"file-view-list-view text-xl\"},[(_vm.files.length || _vm.folders.length)?_c('ul',{staticClass:\"w-full\"},[_vm._l((_vm.folders),function(folder){return [_c('li',{key:folder,staticClass:\"p-2 flex items-center\"},[_c('fa-icon',{staticClass:\"text-2xl w-8 cursor-pointer text-gray-500 hover:text-black\",class:{ expanded: _vm.expanded[folder] },attrs:{\"icon\":\"angle-right\",\"fixed-width\":\"\"},on:{\"click\":function($event){_vm.toggleFolder(folder, _vm.isLocked(folder))}}}),(_vm.locked.includes(folder))?_c('a',{staticClass:\"file cursor-default\",attrs:{\"title\":folder},on:{\"dblclick\":function($event){return _vm.openLocked(folder)},\"contextmenu\":function($event){$event.preventDefault();return _vm.contextmenu($event, folder + '/', true)}}},[_c('fa-layers',{staticClass:\"icon mr-2\"},[_c('fa-icon',{attrs:{\"icon\":\"folder\"}}),_c('fa-icon',{staticClass:\"text-white\",attrs:{\"icon\":_vm.isLocked(folder) ? 'lock' : 'lock-open',\"transform\":\"down-1 shrink-11\"}})],1),_c('div',{staticClass:\"truncate\"},[_vm._v(_vm._s(folder))])],1):_c('router-link',{staticClass:\"file cursor-default\",attrs:{\"title\":folder,\"to\":(\"\" + _vm.path + folder + \"/\"),\"event\":\"dblclick\"},nativeOn:{\"contextmenu\":function($event){$event.preventDefault();return _vm.contextmenu($event, folder + '/')}}},[_c('fa-icon',{staticClass:\"icon mr-2\",attrs:{\"icon\":\"folder\"}}),_c('div',{staticClass:\"truncate\"},[_vm._v(_vm._s(folder))])],1)],1),(_vm.expanded[folder])?_c('li',{key:folder + '-expanded',staticClass:\"pl-8\"},[_c('file-view-list',{attrs:{\"path\":(\"\" + _vm.path + folder + \"/\"),\"nested\":\"\"}})],1):_vm._e()]}),(_vm.path == '/')?[_c('li',{staticClass:\"p-2 flex items-center\"},[_c('fa-icon',{staticClass:\"text-2xl w-8 cursor-pointer text-gray-500 hover:text-black\",class:{ expanded: _vm.expanded['account'] },attrs:{\"icon\":\"angle-right\",\"fixed-width\":\"\"},on:{\"click\":function($event){!_vm.unique ? _vm.$modal.login() : _vm.toggleFolder('account')}}}),(!_vm.unique)?_c('a',{staticClass:\"file\",on:{\"click\":function($event){return _vm.$modal.login()}}},[_c('fa-layers',{staticClass:\"icon mr-2\"},[_c('fa-icon',{attrs:{\"icon\":\"folder\"}}),_c('fa-icon',{staticClass:\"text-white\",attrs:{\"icon\":\"lock\",\"transform\":\"down-1 shrink-11\"}})],1),_c('div',[_vm._v(\"account\")])],1):_c('router-link',{staticClass:\"file cursor-default\",attrs:{\"to\":\"/account/\",\"event\":\"dblclick\"},nativeOn:{\"contextmenu\":function($event){$event.preventDefault();return _vm.contextmenu($event, 'account/')}}},[_c('fa-layers',{staticClass:\"icon mr-2\"},[_c('fa-icon',{attrs:{\"icon\":\"folder\"}}),_c('fa-icon',{staticClass:\"text-white\",attrs:{\"icon\":\"lock-open\",\"transform\":\"down-1 shrink-11\"}})],1),_c('div',[_vm._v(\"account\")])],1)],1),(_vm.expanded['account'])?_c('li',{key:'account-expanded',staticClass:\"pl-8\"},[(_vm.unique)?_c('file-view-list',{attrs:{\"path\":(_vm.path + \"account/\"),\"nested\":\"\"}}):_vm._e()],1):_vm._e()]:_vm._e(),_vm._l((_vm.files),function(file){return _c('li',{key:file.name,staticClass:\"p-2 file\",attrs:{\"title\":file.full},on:{\"contextmenu\":function($event){$event.preventDefault();return _vm.contextmenu($event, file.full)},\"dblclick\":function($event){return _vm.$root.$emit('download', _vm.path + file.full)}}},[_c('div',{staticClass:\"w-8\"}),_c('fa-layers',{staticClass:\"icon mr-2\"},[_c('fa-icon',{attrs:{\"icon\":\"file\"}}),_c('fa-text',{staticClass:\"text-white\",attrs:{\"transform\":\"down-4 shrink-12\",\"value\":file.ext}})],1),_c('div',{staticClass:\"truncate\"},[_vm._v(_vm._s(file.full))])],1)})],2):(!_vm.nested)?_c('div',{staticClass:\"text-xl pt-8 pb-4\"},[_c('fa-layers',{staticClass:\"text-6xl\"},[_c('fa-icon',{attrs:{\"icon\":\"folder\"}}),_c('fa-icon',{staticClass:\"text-white\",attrs:{\"icon\":\"sad-tear\",\"transform\":\"down-1 shrink-10\"}})],1),_c('br'),_vm._v(\"\\n    this folder is empty\\n  \")],1):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"file-view-list-view text-xl\">\n    <ul v-if=\"files.length || folders.length\" class=\"w-full\">\n      <template v-for=\"folder in folders\">\n        <li :key=\"folder\" class=\"p-2 flex items-center\">\n          <fa-icon\n            icon=\"angle-right\"\n            class=\"text-2xl w-8 cursor-pointer text-gray-500 hover:text-black\"\n            fixed-width\n            @click=\"toggleFolder(folder, isLocked(folder))\"\n            :class=\"{ expanded: expanded[folder] }\"\n          />\n          <a\n            v-if=\"locked.includes(folder)\"\n            :title=\"folder\"\n            class=\"file cursor-default\"\n            @dblclick=\"openLocked(folder)\"\n            @contextmenu.prevent=\"contextmenu($event, folder + '/', true)\"\n          >\n            <fa-layers class=\"icon mr-2\">\n              <fa-icon icon=\"folder\" />\n              <fa-icon\n                :icon=\"isLocked(folder) ? 'lock' : 'lock-open'\"\n                class=\"text-white\"\n                transform=\"down-1 shrink-11\"\n              />\n            </fa-layers>\n            <div class=\"truncate\">{{ folder }}</div>\n          </a>\n          <router-link\n            v-else\n            :title=\"folder\"\n            :to=\"`${path}${folder}/`\"\n            class=\"file cursor-default\"\n            event=\"dblclick\"\n            @contextmenu.native.prevent=\"contextmenu($event, folder + '/')\"\n          >\n            <fa-icon icon=\"folder\" class=\"icon mr-2\" />\n            <div class=\"truncate\">{{ folder }}</div>\n          </router-link>\n        </li>\n\n        <li v-if=\"expanded[folder]\" :key=\"folder + '-expanded'\" class=\"pl-8\">\n          <file-view-list :path=\"`${path}${folder}/`\" nested />\n        </li>\n      </template>\n\n      <template v-if=\"path == '/'\">\n        <li class=\"p-2 flex items-center\">\n          <fa-icon\n            icon=\"angle-right\"\n            class=\"text-2xl w-8 cursor-pointer text-gray-500 hover:text-black\"\n            fixed-width\n            @click=\"!unique ? $modal.login() : toggleFolder('account')\"\n            :class=\"{ expanded: expanded['account'] }\"\n          />\n\n          <a v-if=\"!unique\" @click=\"$modal.login()\" class=\"file\">\n            <fa-layers class=\"icon mr-2\">\n              <fa-icon icon=\"folder\" />\n              <fa-icon\n                icon=\"lock\"\n                class=\"text-white\"\n                transform=\"down-1 shrink-11\"\n              />\n            </fa-layers>\n            <div>account</div>\n          </a>\n\n          <router-link\n            v-else\n            to=\"/account/\"\n            @contextmenu.native.prevent=\"contextmenu($event, 'account/')\"\n            event=\"dblclick\"\n            class=\"file cursor-default\"\n          >\n            <fa-layers class=\"icon mr-2\">\n              <fa-icon icon=\"folder\" />\n              <fa-icon\n                icon=\"lock-open\"\n                class=\"text-white\"\n                transform=\"down-1 shrink-11\"\n              />\n            </fa-layers>\n            <div>account</div>\n          </router-link>\n        </li>\n\n        <li v-if=\"expanded['account']\" :key=\"'account-expanded'\" class=\"pl-8\">\n          <file-view-list v-if=\"unique\" :path=\"`${path}account/`\" nested />\n        </li>\n      </template>\n\n      <li\n        v-for=\"file in files\"\n        :key=\"file.name\"\n        :title=\"file.full\"\n        class=\"p-2 file\"\n        @contextmenu.prevent=\"contextmenu($event, file.full)\"\n        @dblclick=\"$root.$emit('download', path + file.full)\"\n      >\n        <div class=\"w-8\"></div>\n        <fa-layers class=\"icon mr-2\">\n          <fa-icon icon=\"file\" />\n          <fa-text\n            class=\"text-white\"\n            transform=\"down-4 shrink-12\"\n            :value=\"file.ext\"\n          />\n        </fa-layers>\n        <div class=\"truncate\">{{ file.full }}</div>\n      </li>\n    </ul>\n\n    <div v-else-if=\"!nested\" class=\"text-xl pt-8 pb-4\">\n      <fa-layers class=\"text-6xl\">\n        <fa-icon icon=\"folder\" />\n        <fa-icon\n          icon=\"sad-tear\"\n          class=\"text-white\"\n          transform=\"down-1 shrink-10\"\n        />\n      </fa-layers>\n      <br />\n      this folder is empty\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex'\nimport FileViewBase from '@/components/FileViewBase'\nimport FileViewList from '@/components/FileViewList'\nimport API from '@/api'\n\nexport default {\n  extends: FileViewBase,\n\n  name: 'file-view-list',\n\n  components: {\n    FileViewList\n  },\n\n  props: {\n    nested: Boolean\n  },\n\n  data: () => ({\n    expanded: {}\n  }),\n\n  computed: {\n    ...mapState(['unique'])\n  },\n\n  methods: {\n    async beforeRefresh() {\n      this.expanded = {}\n    },\n\n    async expandLocked(folder) {\n      const unlocked = await this.unlockFolder(folder)\n      if (unlocked) {\n        this.toggleFolder(folder)\n      }\n    },\n\n    async toggleFolder(folder, locked) {\n      if (locked) {\n        const unlocked = await this.unlockFolder(folder)\n        if (!unlocked) return\n      }\n\n      if (this.expanded[folder] === undefined) {\n        this.$set(this.expanded, folder, false)\n      }\n\n      this.expanded[folder] = !this.expanded[folder]\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n.file-view-list-view {\n  .file {\n    @apply flex items-center w-full;\n  }\n\n  li:not(:last-child) {\n    @apply border-b;\n  }\n\n  .icon {\n    font-size: 2rem;\n  }\n\n  .expanded {\n    transform: rotate(90deg);\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileViewList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileViewList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FileViewList.vue?vue&type=template&id=2a45d2e2&\"\nimport script from \"./FileViewList.vue?vue&type=script&lang=js&\"\nexport * from \"./FileViewList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FileViewList.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showDropzone || _vm.isUploading),expression:\"showDropzone || isUploading\"}],staticClass:\"file-dropzone\",class:{ hover: _vm.isHovering },on:{\"dragover\":function($event){$event.preventDefault();},\"dragenter\":function($event){$event.preventDefault();_vm.isHovering = true},\"dragleave\":function($event){$event.preventDefault();if($event.target !== $event.currentTarget){ return null; }_vm.isHovering = false},\"drop\":function($event){$event.preventDefault();return _vm.onDrop($event)}}},[(_vm.showDropzone || _vm.isUploading)?_c('label',{directives:[{name:\"click-out\",rawName:\"v-click-out\",value:(_vm.hide),expression:\"hide\"}],staticClass:\"message m-4\"},[_c('input',{staticClass:\"visually-hidden\",attrs:{\"accept\":_vm.extensions.join(','),\"type\":\"file\",\"multiple\":\"\"},on:{\"change\":_vm.onChange}}),_c('div',{staticClass:\"text-4xl\"},[(_vm.isUploading)?[_vm._v(\"\\n        Uploading files...\\n      \")]:(!_vm.numDropping)?[_vm._v(\"\\n        Drop items or\\n        \"),_c('span',{staticClass:\"text-blue-500\"},[_vm._v(\"click\")]),_vm._v(\"\\n        to upload\\n      \")]:[_vm._v(\"\\n        Drop \"+_vm._s(_vm.numDropping)+\" item\"+_vm._s(_vm.numDropping > 1 ? 's' : '')+\" here to\\n        upload\\n      \")]],2),(!_vm.numDropping && !_vm.isUploading)?_c('button',{staticClass:\"link text-2xl text-red-500\",on:{\"click\":_vm.hide}},[_vm._v(\"\\n      cancel\\n    \")]):_vm._e()]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","const IGNORE_FILES = ['.DS_Store', 'Thumbs.db']\n\nfunction getFile(item) {\n  return new Promise(resolve => {\n    item.file(file => resolve(file))\n  })\n}\n\nfunction getEntries(item) {\n  const reader = item.createReader()\n  return new Promise(resolve => {\n    reader.readEntries(entries => resolve(entries))\n  })\n}\n\nasync function traverseDir(item, path = '') {\n  const tree = []\n  if (item.isFile && !IGNORE_FILES.includes(item.name)) {\n    const f = await getFile(item)\n    const file = new File([f], path + item.name, { type: f.type })\n    tree.push(file)\n  } else if (item.isDirectory) {\n    path += item.name + '/'\n    const entries = await getEntries(item)\n    const promises = entries.map(entry => traverseDir(entry, path))\n    const list = await Promise.all(promises)\n    tree.push(...list)\n  }\n\n  return tree\n}\n\nexport async function getFiles(event) {\n  const tree = []\n  const items = event.dataTransfer.items\n  for (const item of items) {\n    const entry = item.webkitGetAsEntry()\n    if (entry) {\n      const list = await traverseDir(entry)\n      tree.push(...list)\n    }\n  }\n  return tree.flat(Infinity)\n}\n","export default ['.pdb', '.sdf', '.cif', '.ppt', '.pptx', '.odp', '.pdf', '.png', '.jpg']\n","<template>\n  <div\n    v-show=\"showDropzone || isUploading\"\n    @dragover.prevent\n    @dragenter.prevent=\"isHovering = true\"\n    @dragleave.prevent.self=\"isHovering = false\"\n    @drop.prevent=\"onDrop\"\n    class=\"file-dropzone\"\n    :class=\"{ hover: isHovering }\"\n  >\n    <label\n      v-if=\"showDropzone || isUploading\"\n      v-click-out=\"hide\"\n      class=\"message m-4\"\n    >\n      <input\n        class=\"visually-hidden\"\n        @change=\"onChange\"\n        :accept=\"extensions.join(',')\"\n        type=\"file\"\n        multiple\n      />\n      <div class=\"text-4xl\">\n        <template v-if=\"isUploading\">\n          Uploading files...\n        </template>\n        <template v-else-if=\"!numDropping\">\n          Drop items or\n          <span class=\"text-blue-500\">click</span>\n          to upload\n        </template>\n        <template v-else>\n          Drop {{ numDropping }} item{{ numDropping > 1 ? 's' : '' }} here to\n          upload\n        </template>\n      </div>\n      <button\n        v-if=\"!numDropping && !isUploading\"\n        @click=\"hide\"\n        class=\"link text-2xl text-red-500\"\n      >\n        cancel\n      </button>\n    </label>\n  </div>\n</template>\n\n<script>\nimport API from '@/api'\nimport { getFiles } from '@/helpers/files'\nimport extensions from '@/helpers/extensions'\n\nexport default {\n  props: {\n    path: String\n  },\n\n  data: () => ({\n    extensions,\n    showDropzone: false,\n    isHovering: false,\n    isUploading: false,\n    numDropping: 0,\n    numEvents: 0\n  }),\n\n  created() {\n    document.body.addEventListener('dragenter', this.onDragEnter)\n    document.body.addEventListener('dragleave', this.onDragLeave)\n  },\n\n  destroyed() {\n    document.body.removeEventListener('dragenter', this.onDragEnter)\n    document.body.removeEventListener('dragleave', this.onDragLeave)\n  },\n\n  methods: {\n    onDragEnter(e) {\n      this.numEvents++\n      this.numDropping = e.dataTransfer.items.length\n      this.showDropzone = true\n    },\n\n    onDragLeave(e) {\n      this.numEvents--\n      if (this.numEvents) return\n      this.showDropzone = false\n      this.numDropping = 0\n    },\n\n    async onDrop(e) {\n      this.isHovering = false\n      const files = await getFiles(e)\n      await this.upload(files)\n      this.numDropping = 0\n    },\n\n    async onChange(e) {\n      const files = e.target.files\n      await this.upload(files)\n      e.target.value = null\n      this.numDropping = 0\n    },\n\n    async upload(files) {\n      this.isUploading = true\n\n      const skipped = []\n      const upload = []\n      for (const file of files) {\n        const isSupported = this.extensions.some(ext => {\n          return file.name.toLowerCase().endsWith(ext)\n        })\n        isSupported ? upload.push(file) : skipped.push(file)\n      }\n\n      if (upload.length) {\n        const path = this.path === '/' ? '/shared/' : this.path\n        await API.upload(path, upload)\n        this.$emit('upload')\n        if (path !== this.path) {\n          this.$router.push(path)\n        }\n      }\n\n      this.isUploading = false\n      this.showDropzone = false\n\n      if (!upload.length) {\n        this.$modal.alert({\n          title: 'Skipping Upload',\n          body: 'No supported files found'\n        })\n      } else if (skipped.length) {\n        const list = skipped.map(f => f.name).join('<br>')\n        this.$modal.alert({\n          title: 'Files Skipped',\n          body: `${skipped.length} unsupported files skipped:<br>${list}`\n        })\n      }\n    },\n\n    show() {\n      this.showDropzone = true\n    },\n\n    hide() {\n      this.showDropzone = false\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n.file-dropzone {\n  @apply absolute inset-0 bg-gray-200 rounded;\n\n  &.hover {\n    @apply bg-gray-300;\n\n    * {\n      pointer-events: none;\n    }\n  }\n\n  .message {\n    @apply absolute inset-0 border-4 border-gray-700 border-dashed rounded;\n    @apply flex flex-col items-center justify-center;\n    cursor: pointer;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileDropzone.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileDropzone.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FileDropzone.vue?vue&type=template&id=48e8b886&\"\nimport script from \"./FileDropzone.vue?vue&type=script&lang=js&\"\nexport * from \"./FileDropzone.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FileDropzone.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"file-explorer flex flex-col m-4 bg-gray-100 rounded flex-grow\">\n    <div class=\"mx-4 mt-4 border-b\">\n      <toolbar\n        @display-mode=\"displayMode = $event\"\n        @new-folder=\"newFolder\"\n        @show-upload=\"showDropzone\"\n      />\n      <breadcrumbs :path=\"path\" />\n    </div>\n    <div\n      class=\"flex-grow relative select-none px-4\"\n      @contextmenu.prevent=\"showContextMenu({ event: $event, path })\"\n    >\n      <file-view-grid v-if=\"displayMode === 'grid'\" :path=\"path\" />\n      <file-view-list v-else :path=\"path\" />\n      <file-dropzone ref=\"dropzone\" @upload=\"refresh\" :path=\"path\" />\n    </div>\n\n    <div\n      v-show=\"contextmenu.show\"\n      v-click-out=\"hideContextMenu\"\n      @click=\"hideContextMenu\"\n      class=\"contextmenu\"\n      :style=\"{ top: contextmenu.top, left: contextmenu.left }\"\n    >\n      <ul>\n        <li v-if=\"menuOptions.isFolder\">\n          <button class=\"text-gray-800\" @click=\"newFolder(contextmenu.path)\">\n            <fa-icon icon=\"folder-plus\" />\n            new folder\n          </button>\n        </li>\n        <li v-else>\n          <button class=\"text-gray-800\" @click=\"download(contextmenu.path)\">\n            <fa-icon icon=\"file-download\" />\n            download\n          </button>\n        </li>\n        <li v-if=\"menuOptions.encryptable\">\n          <button class=\"text-gray-800\" @click=\"encrypt(contextmenu.path)\">\n            <fa-icon icon=\"lock\" />\n            encrypt\n          </button>\n        </li>\n        <li v-else-if=\"contextmenu.locked\">\n          <button class=\"text-gray-800\" @click=\"decrypt(contextmenu.path)\">\n            <fa-icon icon=\"lock-open\" />\n            decrypt\n          </button>\n        </li>\n        <li v-if=\"menuOptions.deletable\">\n          <button class=\"text-red-500\" @click=\"deleteItem\">\n            <fa-icon icon=\"trash\" />\n            delete\n          </button>\n        </li>\n      </ul>\n    </div>\n  </div>\n</template>\n\n<script>\nimport API from '@/api'\nimport Breadcrumbs from '@/components/Breadcrumbs'\nimport Toolbar from '@/components/Toolbar'\nimport FileViewGrid from '@/components/FileViewGrid'\nimport FileViewList from '@/components/FileViewList'\nimport FileDropzone from '@/components/FileDropzone'\n\nexport default {\n  components: {\n    Breadcrumbs,\n    Toolbar,\n    FileViewGrid,\n    FileViewList,\n    FileDropzone\n  },\n\n  data: () => ({\n    contextmenu: {\n      show: false,\n      component: null,\n      path: '',\n      top: 0,\n      left: 0\n    },\n    displayMode: 'grid'\n  }),\n\n  computed: {\n    path() {\n      return this.$route.path\n    },\n\n    menuOptions() {\n      const { component, path, locked } = this.contextmenu\n\n      const isFolder = path.slice(-1) === '/'\n      const deletable = component && !['/shared/', '/account/'].includes(path)\n      const encryptable =\n        !locked && isFolder && !['/', '/shared/'].includes(path)\n\n      return {\n        isFolder,\n        deletable,\n        encryptable\n      }\n    }\n  },\n\n  mounted() {\n    this.$root.$on('contextmenu', this.showContextMenu)\n    this.$root.$on('download', this.download)\n  },\n\n  destroyed() {\n    this.$root.$off('contextmenu', this.showContextMenu)\n    this.$root.$off('download', this.download)\n  },\n\n  methods: {\n    refresh() {\n      if (this.contextmenu.component) {\n        this.contextmenu.component.refresh()\n      } else {\n        this.$root.$emit('refresh')\n      }\n    },\n\n    showDropzone() {\n      this.$refs.dropzone.show()\n    },\n\n    async newFolder(path) {\n      path = path || this.path\n      if (path === '/') {\n        path = '/shared/'\n      }\n\n      const folder = await this.$modal.prompt({\n        title: 'New Folder',\n        body: `Creating folder in ${path}<br>Please provide a name:`,\n        default: 'new folder'\n      })\n      if (!folder) return\n\n      const { success } = await API.create(path + folder)\n      if (!success) {\n        this.$modal.alert({\n          title: 'Name Already Exists',\n          body: 'Please select a different name'\n        })\n        return\n      }\n\n      if (path !== this.path) {\n        this.$router.push(path)\n      } else {\n        this.refresh()\n      }\n    },\n\n    async deleteItem() {\n      const { path, locked } = this.contextmenu\n\n      const confirm = await this.$modal.confirm({\n        title: 'Delete Item',\n        body: `Are you sure you want to delete ${path}?`,\n        okClass: 'danger',\n        okTitle: 'delete',\n        cancelClass: ''\n      })\n      if (!confirm) return\n\n      let key\n      if (locked) {\n        key = await this.$modal.prompt({\n          title: 'Delete Folder',\n          body: 'Please provide the key for this folder:',\n          okTitle: 'delete',\n          okTitle: 'delete',\n          cancelClass: '',\n          password: true\n        })\n        if (!key) return\n\n        const { success } = await API.verifyKey(path, key)\n        if (!success) {\n          this.$modal.alert({\n            title: 'Delete Cancelled',\n            body: 'The provided key was incorrect'\n          })\n          return\n        }\n      }\n\n      await API.delete(path, key)\n      this.refresh()\n    },\n\n    download(path) {\n      API.download(path)\n    },\n\n    async encrypt(path) {\n      const key = await this.$modal.prompt({\n        title: 'Lock Folder',\n        body: `Encrypting ${path}<br>Please provide a key:`,\n        okTitle: 'continue',\n        password: true\n      })\n      if (!key) return\n\n      const verifyKey = await this.$modal.prompt({\n        title: 'Lock Folder',\n        body: `Encrypting ${path}<br>Please verify your key:`,\n        okTitle: 'continue',\n        password: true\n      })\n      if (!verifyKey) return\n\n      if (key !== verifyKey) {\n        this.$modal.alert({\n          title: 'Encryption Cancelled',\n          body: 'The keys you provided did not match'\n        })\n        return\n      }\n\n      const yes = await this.$modal.confirm({\n        title: 'Confirm Encryption',\n        body:\n          'Are you sure you want to continue?<br><br><b>NOTE:</b> ' +\n          'If you lose your key, you will be unable to recover the files in this folder.',\n        okTitle: 'yes'\n      })\n      if (!yes) return\n\n      await API.encrypt(path, key)\n      API.keys.add(path, key)\n      this.refresh()\n    },\n\n    async decrypt(path) {\n      const key = await this.$modal.prompt({\n        title: 'Decrypt Folder',\n        body: `Decrypting ${path}<br>Please enter the key:`,\n        password: true\n      })\n      if (!key) return\n\n      await API.decrypt(path, key)\n      API.keys.remove(path)\n      this.refresh()\n    },\n\n    showContextMenu({ event, path, locked, component }) {\n      this.contextmenu.show = true\n      this.contextmenu.path = path\n      this.contextmenu.locked = locked\n      this.contextmenu.component = component\n      this.contextmenu.top = event.pageY + 1 + 'px'\n      this.contextmenu.left = event.pageX + 1 + 'px'\n    },\n\n    hideContextMenu() {\n      this.contextmenu.show = false\n      this.contextmenu.path = ''\n      this.contextmenu.locked = false\n      this.contextmenu.component = null\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n.file-explorer {\n  .contextmenu {\n    @apply absolute bg-white text-xl w-40 rounded shadow-md overflow-hidden;\n\n    button {\n      @apply px-4 py-1 w-full text-left;\n\n      &:hover {\n        @apply bg-gray-200;\n      }\n      &:focus {\n        @apply outline-none;\n      }\n    }\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileExplorer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileExplorer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FileExplorer.vue?vue&type=template&id=7d14239c&\"\nimport script from \"./FileExplorer.vue?vue&type=script&lang=js&\"\nexport * from \"./FileExplorer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FileExplorer.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"home min-h-full container m-auto bg-white flex flex-col\">\n    <header class=\"pt-10 mx-auto\">\n      <h1 class=\"inline-flex items-baseline\">\n        <img class=\"mr-4\" src=\"@/assets/logo.png\" /> Vault\n      </h1>\n      <h2>Upload files to make them available in Nanome!</h2>\n    </header>\n\n    <p class=\"text-lg pt-2 pb-4\">\n      Drag and drop or click the new file button to upload files.<br />\n      Supports <b>{{ extensions.join(' ') }}</b>\n    </p>\n\n    <div class=\"text-left\">\n      <div class=\"text-lg text-left px-4 py-2 ml-4 rounded bg-gray-200 inline\">\n        <template v-if=\"$store.state.name\">\n          Welcome <b>{{ $store.state.name }}!</b>&nbsp;\n          <a @click=\"$store.dispatch('logout')\" class=\"link text-red-500\"\n            >log out</a\n          >\n        </template>\n        <template v-else>\n          Welcome!\n          <a @click=\"$modal.login()\" class=\"link text-blue-500\">log in</a>\n        </template>\n      </div>\n    </div>\n\n    <file-explorer />\n  </div>\n</template>\n\n<script>\nimport FileExplorer from '@/components/FileExplorer'\nimport extensions from '@/helpers/extensions'\n\nexport default {\n  components: { FileExplorer },\n  data: () => ({ extensions })\n}\n</script>\n\n<style lang=\"scss\">\nheader {\n  img {\n    height: 1em;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=5b50d425&\"\nimport script from \"./Home.vue?vue&type=script&lang=js&\"\nexport * from \"./Home.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Home.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport Router from 'vue-router'\nimport Home from './views/Home.vue'\n\nVue.use(Router)\n\nconst router = new Router({\n  mode: 'history',\n  base: process.env.BASE_URL,\n  routes: [\n    {\n      path: '/*',\n      name: 'home',\n      component: Home\n    }\n  ]\n})\n\nrouter.beforeEach((to, from, next) => {\n  let path = to.path.replace(/\\/\\/+/g, '/')\n\n  if (path.slice(-1) !== '/') {\n    path += '/'\n  }\n\n  if (path !== to.path) {\n    next({ path, replace: true })\n  }\n\n  next()\n})\n\nexport default router\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.showing)?_c('div',{staticClass:\"modal\",on:{\"click\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.cancel($event)}}},[_c('div',{staticClass:\"modal-body\"},[_c('div',{staticClass:\"p-4\"},[(_vm.options.title)?_c('h2',[_vm._v(_vm._s(_vm.options.title))]):_vm._e(),(_vm.options.body)?_c('p',{domProps:{\"innerHTML\":_vm._s(_vm.options.body)}}):_vm._e(),_c('div',{staticClass:\"mt-2\"},[(_vm.options.type === 'prompt')?[((_vm.options.password ? 'password' : 'text')==='checkbox')?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.input1),expression:\"input1\"}],ref:\"prompt\",attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.input1)?_vm._i(_vm.input1,null)>-1:(_vm.input1)},on:{\"change\":function($event){var $$a=_vm.input1,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.input1=$$a.concat([$$v]))}else{$$i>-1&&(_vm.input1=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.input1=$$c}}}}):((_vm.options.password ? 'password' : 'text')==='radio')?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.input1),expression:\"input1\"}],ref:\"prompt\",attrs:{\"type\":\"radio\"},domProps:{\"checked\":_vm._q(_vm.input1,null)},on:{\"change\":function($event){_vm.input1=null}}}):_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.input1),expression:\"input1\"}],ref:\"prompt\",attrs:{\"type\":_vm.options.password ? 'password' : 'text'},domProps:{\"value\":(_vm.input1)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.input1=$event.target.value}}})]:(_vm.options.type === 'login')?[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.input1),expression:\"input1\"}],ref:\"login\",class:{ 'border-red-500': _vm.error },attrs:{\"placeholder\":\"username\",\"type\":\"text\"},domProps:{\"value\":(_vm.input1)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.input1=$event.target.value}}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.input2),expression:\"input2\"}],class:{ 'border-red-500': _vm.error },attrs:{\"placeholder\":\"password\",\"type\":\"password\"},domProps:{\"value\":(_vm.input2)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.input2=$event.target.value}}}),(_vm.error)?_c('p',{staticClass:\"text-red-500\"},[_vm._v(\"\\n            incorrect login or password\\n          \")]):_vm._e(),_vm._m(0)]:_vm._e()],2)]),_c('div',{staticClass:\"modal-actions\"},[(_vm.options.type !== 'alert')?_c('button',{staticClass:\"btn\",class:_vm.options.cancelClass,on:{\"click\":_vm.cancel}},[_vm._v(\"\\n        \"+_vm._s(_vm.options.cancelTitle)+\"\\n      \")]):_vm._e(),_c('button',{staticClass:\"btn\",class:_vm.options.okClass,attrs:{\"disabled\":_vm.loading},on:{\"click\":_vm.ok}},[_vm._v(\"\\n        \"+_vm._s(_vm.options.okTitle)+\"\\n      \")])])])]):_vm._e()}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_c('a',{staticClass:\"link text-blue-500\",attrs:{\"href\":\"https://home.nanome.ai/login/forgot\",\"target\":\"_blank\"}},[_vm._v(\"\\n              forgot password?\\n            \")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div v-if=\"showing\" @click.self=\"cancel\" class=\"modal\">\n    <div class=\"modal-body\">\n      <div class=\"p-4\">\n        <h2 v-if=\"options.title\">{{ options.title }}</h2>\n        <p v-if=\"options.body\" v-html=\"options.body\"></p>\n\n        <div class=\"mt-2\">\n          <template v-if=\"options.type === 'prompt'\">\n            <input\n              ref=\"prompt\"\n              v-model=\"input1\"\n              :type=\"options.password ? 'password' : 'text'\"\n            />\n          </template>\n\n          <template v-else-if=\"options.type === 'login'\">\n            <input\n              ref=\"login\"\n              v-model=\"input1\"\n              :class=\"{ 'border-red-500': error }\"\n              placeholder=\"username\"\n              type=\"text\"\n            />\n            <input\n              v-model=\"input2\"\n              :class=\"{ 'border-red-500': error }\"\n              placeholder=\"password\"\n              type=\"password\"\n            />\n\n            <p v-if=\"error\" class=\"text-red-500\">\n              incorrect login or password\n            </p>\n\n            <p>\n              <a\n                href=\"https://home.nanome.ai/login/forgot\"\n                target=\"_blank\"\n                class=\"link text-blue-500\"\n              >\n                forgot password?\n              </a>\n            </p>\n          </template>\n        </div>\n      </div>\n\n      <div class=\"modal-actions\">\n        <button\n          v-if=\"options.type !== 'alert'\"\n          @click=\"cancel\"\n          class=\"btn\"\n          :class=\"options.cancelClass\"\n        >\n          {{ options.cancelTitle }}\n        </button>\n        <button\n          @click=\"ok\"\n          class=\"btn\"\n          :class=\"options.okClass\"\n          :disabled=\"loading\"\n        >\n          {{ options.okTitle }}\n        </button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nconst defaults = {\n  type: 'confirm',\n  title: '',\n  body: '',\n  default: '',\n  okTitle: 'ok',\n  okClass: '',\n  cancelTitle: 'cancel',\n  cancelClass: 'danger',\n  password: false\n}\n\nconst deferred = () => {\n  let res, rej\n\n  const promise = new Promise((resolve, reject) => {\n    res = resolve\n    rej = reject\n  })\n\n  promise.resolve = res\n  promise.reject = rej\n\n  return promise\n}\n\nexport default {\n  data: () => ({\n    showing: false,\n    error: false,\n    loading: false,\n    options: {\n      type: 'login',\n      title: 'title',\n      body: 'body',\n      default: '',\n      okTitle: 'ok',\n      okClass: '',\n      cancelTitle: 'cancel',\n      cancelClass: 'danger',\n      password: false\n    },\n    input1: '',\n    input2: '',\n    deferred: deferred()\n  }),\n\n  mounted() {\n    document.body.addEventListener('keydown', this.onKeydown)\n  },\n\n  destroyed() {\n    document.body.removeEventListener('keydown', this.onKeydown)\n  },\n\n  methods: {\n    onKeydown(e) {\n      if (!this.showing) return\n\n      if (e.key === 'Enter') {\n        this.ok()\n      } else if (e.key === 'Escape') {\n        this.cancel()\n      }\n    },\n\n    show(options) {\n      Object.assign(this.options, defaults, options)\n      this.showing = true\n\n      if (this.options.type === 'prompt') {\n        this.input1 = this.options.default\n        this.$nextTick(() => {\n          const input = this.$refs.prompt\n          input.focus()\n          input.setSelectionRange(0, input.value.length)\n        })\n      } else if (this.options.type === 'login') {\n        this.$nextTick(() => this.$refs.login.focus())\n      }\n\n      this.deferred = deferred()\n      return this.deferred\n    },\n\n    alert(options) {\n      return this.show({\n        type: 'alert',\n        ...options\n      })\n    },\n\n    confirm(options) {\n      return this.show({\n        type: 'confirm',\n        ...options\n      })\n    },\n\n    prompt(options) {\n      return this.show({\n        type: 'prompt',\n        ...options\n      })\n    },\n\n    login(options) {\n      return this.show({\n        type: 'login',\n        title: 'Log in to Nanome',\n        body: 'Log in using your Nanome account',\n        okTitle: 'log in',\n        okClass: 'primary',\n        cancelClass: '',\n        ...options\n      })\n    },\n\n    reset() {\n      this.showing = false\n      this.input1 = ''\n      this.input2 = ''\n      this.deferred = null\n    },\n\n    cancel() {\n      if (this.options.type === 'confirm') {\n        this.deferred.resolve(false)\n      } else {\n        this.deferred.resolve(undefined)\n      }\n\n      this.reset()\n    },\n\n    ok() {\n      let data\n      if (this.options.type === 'confirm') {\n        data = true\n      } else if (this.options.type === 'prompt') {\n        data = this.input1\n      } else if (this.options.type === 'login') {\n        this.attemptLogin()\n        return\n      }\n\n      this.deferred.resolve(data)\n      this.reset()\n    },\n\n    async attemptLogin() {\n      this.error = false\n      this.loading = true\n\n      const creds = {\n        username: this.input1,\n        password: this.input2\n      }\n\n      const success = await this.$store.dispatch('login', creds)\n      this.loading = false\n\n      if (success) {\n        this.deferred.resolve(true)\n        this.reset()\n      } else {\n        this.error = true\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n.modal {\n  @apply fixed inset-0 z-50 flex items-center justify-center;\n  background: rgba(0, 0, 0, 0.5);\n\n  &-body {\n    @apply bg-white rounded shadow overflow-hidden;\n    width: 20rem;\n  }\n\n  &-actions {\n    @apply w-full flex justify-between;\n\n    button {\n      @apply w-full;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Modal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Modal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Modal.vue?vue&type=template&id=70274e2c&\"\nimport script from \"./Modal.vue?vue&type=script&lang=js&\"\nexport * from \"./Modal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Modal.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import '@/assets/css/tailwind.css'\nimport Vue from 'vue'\nimport App from './App.vue'\nimport router from './router'\nimport store from './store'\nimport Modal from '@/components/Modal'\n\nVue.config.productionTip = false\n\n//#region fontawesome\nimport { library } from '@fortawesome/fontawesome-svg-core'\nimport { fas } from '@fortawesome/free-solid-svg-icons'\n\nimport {\n  FontAwesomeIcon,\n  FontAwesomeLayers,\n  FontAwesomeLayersText\n} from '@fortawesome/vue-fontawesome'\n\nlibrary.add(fas)\nVue.component('fa-icon', FontAwesomeIcon)\nVue.component('fa-layers', FontAwesomeLayers)\nVue.component('fa-text', FontAwesomeLayersText)\n//#endregion\n\nVue.directive('click-out', {\n  bind(el, binding, vnode) {\n    el.data = {\n      stop: e => e.stopPropagation(),\n      event: () => vnode.context[binding.expression]()\n    }\n\n    setTimeout(() => {\n      document.body.addEventListener('click', el.data.event)\n      el.addEventListener('click', el.data.stop)\n    }, 0)\n  },\n  unbind(el) {\n    document.body.removeEventListener('click', el.data.event)\n    el.removeEventListener('click', el.data.stop)\n  }\n})\n\nstore.dispatch('refresh')\n\nconst app = new Vue({\n  router,\n  store,\n  render: h => h(App)\n}).$mount('#app')\n\n// global modal singleton\nconst VModal = Vue.extend(Modal)\nconst modal = new VModal({ store })\nmodal.$mount()\nVue.prototype.$modal = modal\napp.$root.$el.appendChild(modal.$el)\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileViewList.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileViewList.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Toolbar.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Toolbar.vue?vue&type=style&index=0&lang=scss&\"","module.exports = __webpack_public_path__ + \"img/logo.b8308220.png\";","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Breadcrumbs.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Breadcrumbs.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}